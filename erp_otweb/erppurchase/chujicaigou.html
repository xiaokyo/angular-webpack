<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>初级采购</title>
    <!-- <link rel="stylesheet" type="text/css" href="erp_otweb/css/erp-public_style.css" /> -->
    <!-- <link rel="stylesheet" href="erp_otweb/css/li_erp.css"> -->
    <style type="text/css">
        .viewgys-wrap,.ordnum-wrap,.errbtn-wrap{
            width: 100%;
            height: 100%;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 10003;
            background-color: rgba(0, 0, 0, 0.5);
        }
        .view-con,.ordnum-con{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 700px;
            height: 500px;
            background-color: #fff;
            padding: 20px;
            border-radius: 4px;
            text-align: center;
        }
        .errtk-con{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 200px;
            background-color: #fff;
            padding: 20px;
            border-radius: 4px;
            text-align: center;
        }
        .ywy-con{
            height: 520px;
            width: 260px;
        }
        .ywy-list{
            height: 400px;
            overflow-y: auto;
        }
        .head-li{
            background-color: #F4F8FB;
            height: 30px;
            line-height: 30px;
        }
        .errtk-text{
            height: 130px;
        }
        .err-textVal{
            width: 300px;
            height: 120px;
            border: 1px solid #ececec;
            text-indent: 12px;
        }
        .view-con th {
            font-weight: normal;
            text-align: center;
            height: 30px;
        }
        .view-con .table>tbody>tr>td {
            vertical-align: middle;
        }
        /*.view-con table tbody {
            display:block;
            height:195px;
            overflow-y:scroll;
        }

        .view-con table thead, tbody tr {
            display:table;
            width:100%;
            table-layout:fixed;
        }

        .view-con table thead {
            width: calc( 100% - 1em )
        }
        .view-con table thead th{ 
            background:#ccc;
        }*/
        .caigou-tab-wrap {
          height: 380px;
            overflow-y: auto;   
        }
        .tit-name{
            font-size: 18px;
            margin-bottom: 10px;
        }
        .tbody-ul{
            /*border: 1px solid red;*/
            background-color: #f4f8fd;
            padding: 10px 0;
            /*display: flex;
            justify-content: space-between;*/
        }
        .tbody-ul span{
            /*border: 1px solid red;*/
            text-align: center;
            display: inline-block;
        }
        .tbody-listul{
           /*border: 1px solid blue; */
           height: 350px;
           overflow-y: auto; 
        }
        .tblist-li{
           /*border: 1px solid red; */
           display: flex;
           justify-content: space-between;
           border-bottom: 1px solid #ececec;
           padding: 15px 0;
        }
        .tblist-li p{
           /*border: 1px solid pink; */
           text-align: center;
        }
        .name-p{
            width: 520px;
            height: 20px;
            overflow: hidden;
        }
        .star-p{
            width: 130px;
            overflow: hidden;
        }
        .bottom-btns button{
            width: 76px;
            height: 30px;
            margin-right: 15px;
            margin-top: 10px;
            background: #f6f6f6;
            border: 1px solid #cfcfcf;
            color: #6b6b6b;
            border-radius: 4px;
        }
        .bottom-btns .sure-canbtn{
            background: #faa538;
            color: #fff;
            border: none;
        }
        .poplinkt {
            display: inline-block;
            font-size: 12px;
            /*width: 60px;*/
            height: 30px;
            line-height: 30px;
            margin: 0;
            border: 1px solid #818181;
            color: #333;
            background: #fff;
            border-radius: 4px;
            padding: 0 5px;
        }
        .poplinkt.active {
           color: #fff;
            background: #08aceb;
            border: none;
        }
        .lashop_img .blank-b{
            position: relative;
        }
        .lashop_img .s-img{
            cursor: pointer;
        }
        .lashop_img .hide-bigimg{
            width: auto;
            height: 360px;
            position: absolute;
            left: 50px;
            top: -10px;
            background-color: #fff;
            z-index: 9;
            cursor: pointer;
            /*border: 1px solid red;*/
            max-width: none;
            max-height: none;
            display: none;
        }
        .lashop_img .hide-bigimg-active{
            top: -220px;
        }
        .close-numbtn,.errtk-canbtn{
            width: 76px;
            height: 30px;
            margin-top: 20px;
            background: #f6f6f6;
            border: 1px solid #cfcfcf;
            color: #6b6b6b;
            border-radius: 4px;
        }
        .errtk-canbtn{
            margin-top: 0;
        }
        .errtk-surebtn{
            width: 76px;
            height: 30px;
            margin-left: 30px;
            background: #fff;
            border: 1px solid #faa538;
            color: #faa538;
            border-radius: 4px;
        }
        .ordncon-list{
            height: 400px;
            /*border: 1px solid red;*/
            /*overflow-y: scroll; */
            overflow: auto;
        }
        /*变体表格*/
        .bt-list{
            display: none;
        }
        .fun-div{
            padding: 0 10px;
            padding-top: 5px;
            height: 40px;
            /*position: fixed;
            left: 270px;
            right: 21px;
            z-index: 999;*/
            background-color: #fff;
        }
        .fun-div .sku-inp{
            width: 260px;
            height: 30px;
            text-indent: 12px;
            vertical-align: top;
        }
        .fun-div .skusea-btn{
            height: 30px;
            padding: 0 10px;
            background-color: #fff;
            border: 1px solid #E0E0E0;
            vertical-align: top;
            border-left: none;
        }
        .fun-div .skusea-btn:hover{
            color: #f99429;
        }
        .qk-btn{
            width: 110px;
            color: #5dbdf2;
            float: right;
            color: #5dbdf2;
            float: right;
            height: 30px;
            background-color: #fff;
            border: 1px solid #5dbdf2;
            border-radius: 4px;
            margin-left: 20px;
        }
        .fiexdbottom-btns{
            margin-top: 20px;
        }
        .ea-list-table{
            width: 100%;
            border-collapse: collapse;
            border-spacing: 0;
            border: solid #eee 1px;
            border-bottom: none;
            font-size: 13px;
            table-layout: fixed;
            min-width: 952px;
        }
        .ea-list-table td span{
            font-size: 12px;
        }
        .ea-list-table td p{
            font-size: 12px;
        }
        .view-gys{
            text-decoration:underline;
            color:#0094FF;
            font-size: 12px;
        }
        /*复选框*/
        .check-p{
            position: relative;
            display: inline-block;
            vertical-align: top;
            float: left;
            left: 15px;
            margin-right: 5px;
        }
        .check-p input{
            width: 17px;
            height: 16px;
            position: absolute;
            top: 0;
            left: 1px;
            opacity: 0;
            margin: 0;
            z-index: 99;
        }
        .check-p input:checked + label {
            background-image: url(static/image/public-img/multiple2.png);
            background-size: 17px 16px;
        }
        .check-p input + label {
            display: block;
            width: 100%;
            padding-left: 21px;
            height: 16px;
            line-height: 16px;
            text-align: left;
            background: url(static/image/public-img/multiple1.png) left center no-repeat;
            background-size: 17px 16px;
        }
        .store-sel-need{
            width: 100px;
            height: 30px;
            margin-left: 20px;
        }
        .red-color{
            color: #e55264;
        }
        .ea-list-table td .you-jia{
            display: inline-block;
            cursor: pointer;
            padding: 0 3px;
            border-radius: 4px;
            font-size: 10px;
            color: #fff;
            background-color: #449d44;
            margin-top: 4px;
        }
        .gysxq-czbtn{
            height: 30px;
            padding: 0 10px;
            border-radius: 4px;
            background-color: #fff;
            border: 1px solid #29b3e8;
        }
        .gysxq-czscbtn{
            height: 30px;
            padding: 0 10px;
            border-radius: 4px;
            background-color: #fff;
            border: 1px solid #818181;
        }
        .gysxq-czbtn:hover{
            background-color:#29b3e8;
            color: #fff;
        }
        .gysxq-czscbtn:hover{
            background-color: #818181;
            color: #fff;
        }
        .g-star{
            background: url('static/image/public-img/iconstar_g.png');
            display: inline-block;
            width: 21px;
            height: 21px;
            cursor: pointer;
        }
        .star {
            background: url('static/image/public-img/iconstar_y.png');
            display: inline-block;
            width: 21px;
            height: 21px;
        }
        .set-star-right{
            display: inline-block;
        }
        .set-star-right a{
            width: 21px;
            height: 21px;
            cursor: default;
            background-size: 21px 21px;
        }
        .set-star-right a.star{
            background-size: 21px 21px;
        }
        .td-star{
            cursor: pointer;
        }
        #gys-table select{
            width: 100px;
            height: 30px;
        }
        .table-con-box{
            margin: 0;
            /*margin-top: 123px;*/
        }
        .w130{
            width: 130px;
            height: 30px;
            text-align: center;
        }
        .bianji-btn{
            margin-top: 3px;
            padding: 0 10px;
            font-size: 14px;
            height: 30px;
            text-align: center;
            background-color: #87CEFA;
            border-radius: 4px;
            color: #fff;
        }
        .thead-box{
            display: flex;
            justify-content: center;
            align-items: center;
            min-width: 952px;
            z-index: 99999;
            border: 1px solid #e1e1e1;
            border-bottom: none;
            margin-top: 20px;
        }
        .th-group{
            background: #F4F8FB;
            text-align: center;
            padding: 10px 0;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            /*border: 1px solid red;*/
        }
        .tit-box{
            /*position: fixed;*/
            left: 270px;
            right: 21px;
            z-index: 999;
            background-color: #fff;
        }
        .ckgys-paixu{
            display: inline-block;
            position: relative;
        }
        .ckgys-paixu span{
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            position: absolute;
            /*right: 15px;*/
            margin: auto;
            cursor: pointer;
        }
        .top-span{
            border-bottom: 12px solid lightslategray;
            top: -20px;
        }
        .down-span{
            border-top: 12px solid lightslategray;
            top: -1px;
        }
        .gjcg-liuyan{
            color:#e55264;
            cursor:pointer;
            text-overflow: ellipsis;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
        }
        .green-color{
            color: #00CD00;
        }
        .yellow-color{
            color: #f1ca16;
        }
        .remark-box{
            position: relative;
            display: inline-block;
        }
        .remark-con{
            position: absolute;
            left: 10px;
            top: -30px;
            width: 450px;
            display: none;
            background-color: #fff;
            box-shadow: 3px 3px 30px rgba(0,0,0,0.6);
        }
        .bot-remark{
            top: -250px;
        }
    </style>
</head>

<body>
    <!-- content -->
    <div class="ea-content">
        <!-- <div class="ea-content-box"> -->
        <!-- <div class="ea-content-con"> -->
        <!-- left nav -->
        <div class="left-bar">
            <ul>
                <li class="active"><a href="#/erppurchase/needbuy">{{'100549' | translate}}</a></li>
                <li><a href="#/supplier-manage">{{'100550' | translate}}</a></li>
            </ul>
        </div>
        <!-- right con -->
        <div class="right-bar-wrap ea-right-content li_ea-right-content">
            <div class="asj-h10"></div>
            <!-- right search -->
            <div class="right-bar">
            <!-- right list -->
            <div class="tit-box">
                <div class="fun-div">
                    <input class="sku-inp" ng-model="searchSku" placeholder="请输入SKU/业务员名字"></input><button class="skusea-btn" ng-click="skuSearchFun()">{{'100025' | translate}}</button>
                    <!-- <button ng-click="qkFun($event)" class="qk-btn">清空所有</button> -->
                    <select class="store-sel-need" ng-change="selByStorageFun()" ng-model="storageId">
                        <option value="{{item.id}}" ng-repeat="item in ckArr">{{item.storage}}</option>
                    </select>
                    <!-- <select class="store-sel-need" ng-model="cgDjVal" ng-change="cgDjChangeFun()">
                        <option value="">高级采购</option>
                        <option value="y">初级采购</option>
                    </select> -->
                    <!-- <button class="qk-btn" ng-click="bulkCgFun()">{{'100557' | translate}}</button> -->
                    <!-- <button class="qk-btn" ng-click="bulkCgWcFun()">批量采购完成</button>
                    <button ng-click="bulkXxcgFun()" class="qk-btn">批量线下完成</button> -->
                    <button ng-click="daoChuFun()" class="qk-btn">导出</button>
                </div>
                <div class="thead-box">
                    <div class="th-group" style="width: 14%;display: table;">
                        <p class="check-p" style="margin-right: 20px;top: 12px;">
                            <input type="checkbox" ng-model="checkAllFlag" ng-click="checkAllFun()">
                            <label for=""></label>
                        </p>
                        <span style="display: table-cell;vertical-align: middle;">{{'100487' | translate}}</span>
                    </div>
                    <div class="th-group" style="width: 10%;">{{'100382' | translate}}</div>
                    <div class="th-group" style="width: 11%;">{{'100106' | translate}}</div>
                    <div class="th-group" style="width: 11%;">供货公司/编号</div>
                    <div class="th-group" style="width: 15%;">采购链接</div>
                    <div class="th-group" style="width: 4%;">导出次数</div>
                    <div class="th-group" style="width: 6%;">需采购数量</div>
                    <!-- <div class="th-group" style="width: 4%;">{{'100643' | translate}}</div>
                    <div class="th-group" style="width: 5%;">{{'100560' | translate}}</div> -->
                    <div class="th-group" style="width: 4%;">{{'100561' | translate}}</div>
                    <div class="th-group" style="width: 4%;">
                        {{'100033' | translate}}
                    </div>
                    <div class="th-group" style="width: 4%;">{{'100562' | translate}}</div>
                    <!-- <div class="th-group" style="width: 6%;">
                        {{'100563' | translate}}{{'100564' | translate}}
                    </div> -->
                    <div class="th-group" style="width: 7%;">{{'100005' | translate}}</div>
                    <div class="th-group" style="width: 10%;">
                        {{'100043' | translate}}{{'100564' | translate}}
                    </div>
                </div>
            </div>
            <div class="table-con-box">
                <table class="ea-list-table ea-erp-cs" id="ea-list-table">
                <tbody ng-repeat="item in chudanliebiao">
                    <tr class="la_tr la_tr01">
                        <td style="width: 14%;"><span>
                            <p class="check-p">
                                <!-- <input type="checkbox" name="" id="" ng-model="item.checked" ng-click="checkAll(item,item.checked, $event,chudanliebiao)">
                                <label for=""></label> -->
                                <input type="checkbox" ng-model="item.checked" ng-click="checkFun(item,item.checked, $event,chudanliebiao)">
                                <label for=""></label>
                            </p>
                            {{item.DATESTRING}}
                        </span></td>
                        <td style="width: 10%;"><span class="lashop_img">
							<b class="blank-b">
                                <img class="s-img" ng-src={{item.IMG}} alt="" >
                                <img class="hide-bigimg" ng-class="{'hide-bigimg-active':$index>9}" ng-src="{{item.IMG}}">
                            </b>
						</span></td>
						<td style="width: 11%;">
                            <span>{{item.SKU}}</span>
					          <!-- <span ng-if="!item.remark" class="glyphicon glyphicon-comment"   ng-click="aaa(item)"  aria-hidden="true"></span>
					          <span ng-if="item.remark" class="glyphicon glyphicon-duplicate"  ng-click="aaa(item)" style="color:#00CD00"  aria-hidden="true"></span>-->
                               <!-- ng-mouseenter="remarkShowFun($event)" ng-moseleave="remarkHideFun($event)" -->
                            <div class="remark-box">
                                <span class="glyphicon glyphicon-duplicate" ng-class="{'yellow-color':item.LOCREMARK&&!item.remark,'green-color':item.remark}" style="cursor: pointer;" ng-click="aaa(item)"></span>
                                <div class="remark-con" ng-class="{'bot-remark':$index>5}">
                                    <div class="tit-name">{{'100574' | translate}}</div>
                                    <div class="caigou-tab-wrap">
                                        <p class="cg-remark-text" style="width:450px;height:170px">
                                            {{item.remark}}
                                        </p>
                                        <p style="font-size: 18px;margin:10px 0;border-top: 1px dashed #333;">商品备注</p>
                                        <p class="sp-remark-text" ng-cloak>{{item.LOCREMARK}}</p>
                                    </div>
                                </div>
                            </div>
						</td>
                        <td style="width: 11%;">
                            <!-- <span><p style="cursor: pointer;" ng-click="ckFun(item)"><font class="view-gys">{{'100565' | translate}}</font></p></span> -->
                            <p ng-if="item.gongHuoGongSi">{{item.gongHuoGongSi}}</p>
                            <p ng-if="!item.gongHuoGongSi">--</p>
                            <p ng-if="item.gongHuoGongSiBianHao">{{item.gongHuoGongSiBianHao}}</p>
                            <p ng-if="!item.gongHuoGongSiBianHao">--</p>
                        </td>
                        <td style="width: 15%;">
                            <a href="{{item.caiGouLianJie}}" style="text-decoration:underline;color:#0094FF;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;width: 130px;display: block;font-size: 12px;" target="_blank">{{item.caiGouLianJie}}</a>
                        </td>
                        <td style="width: 4%;"><span>{{item.daoChuCishu}}</span></td>
                        <td style="width: 6%;"><span>{{item.ORDERNEEDCOUNT}}</span></td>
                        <!-- <td style="width: 4%;"><span>{{item.kuCun}}</span></td>
                        <td style="width: 5%;"><span>{{item.INPROCUREMENTCOUNT}}</span></td> -->
                        <!--  <td><span>{{item.inv}}</span></td>-->
                        <!--  <td><span>{{item.ORDERNEEDCOUNT}}</span></td>-->
                        <td style="width: 4%;">
                            <span ng-if="item.COSTPRICE">¥{{item.COSTPRICE}}</span>
                            <span ng-if="!item.COSTPRICE">--</span>
                            <span title="请直接用第一个链接购买" ng-if="item.youJiaGe==1" class="you-jia">价</span>
                        </td>
                        <td style="width: 4%;">
                            <span ng-if="item.COSTPRICE&&item.ORDERNEEDCOUNT">¥{{item.COSTPRICE*item.ORDERNEEDCOUNT | number:2}}</span>
                            <span ng-if="!item.COSTPRICE||!item.ORDERNEEDCOUNT">--</span>
                        </td>
                        <td style="width: 4%;"><span ng-class='{"red-color":item.TRANSPORTDAY>4}'>{{item.TRANSPORTDAY}}</span></td>
                        <!-- <td style="width: 6%;"><span>--</span></td> -->
                        <td style="width: 7%;"><span>{{item.storageName}}</span></td>
                        <td style="width: 10%;" class="relative">
                             <span>
                                <i ng-click="showBtFun(item,$event,$index)" id="toggle-logo1" style="font-size: 20px;cursor: pointer;" class="glyphicon glyphicon-triangle-bottom"></i>
                            </span>
                            <!-- <button ng-hide="item.youJiaGe==1" ng-click="cjcgFun(item,$event,$index)" class="bianji-btn" style="background-color: #449CB0;">移至初级</button>
                            <button ng-show="item.youJiaGe==1" ng-click="gjcgFun(item,$event,$index)" class="bianji-btn">移至高级</button> -->
                        </td>
                    </tr>
                    <tr class="la_tr la_tr01" ng-repeat="item1 in item.btList">
                        <!-- <td><span> <input name="need_inv" type="checkbox" value="1"></span></td> -->
                        <td><span>
                            <!-- <img ng-click="chekFun($event,item1)" class="cg-checkbox" src="static/image/order-img/multiple1.png"> -->
                            <!-- <p class="check-p">
                                <input type="checkbox" name="" id="" ng-model="item1.checked" ng-click="isCheckFun(item1, $index, $event,item,item.btList)">
                                <label for=""></label>
                            </p> -->
                            {{ item1.NEWESTDATE.year+1900}}-{{item1.NEWESTDATE.month+1}}-{{item1.NEWESTDATE.date}} {{item1.NEWESTDATE.hours}}:{{item1.NEWESTDATE.minutes}}:{{item1.NEWESTDATE.seconds}}
                            <p style="display: none;" class="bt-hideid">{{item1.ID}}</p>
                            <p style="display: none;" class="hide-gyslink">{{item1.SUPLLIERLINK}}</p>
                        </span></td>
                        <td><span class="lashop_img">
                            <b class="blank-b">
                                <img class="s-img" ng-src={{item1.IMG}} alt="" >
                                <img class="hide-bigimg" ng-src="{{item1.IMG}}">
                            </b>
                        </span></td>
                        <td>
                            <span>{{item1.SKU}}</span>
                            <span class="gjcg-liuyan" ng-click="btCgLiuYanFun(item1.chuJiLiuYan)" title="{{item1.chuJiLiuYan}}" ng-if="item1.chuJiLiuYan">留言: {{item1.chuJiLiuYan}}</span>
                        </td>

                        <td style="width: 11%;">
                            <!-- <span><p style="cursor: pointer;" ng-click="ckFun(item)"><font class="view-gys">{{'100565' | translate}}</font></p></span> -->
                            <p ng-if="item1.gongHuoGongSi">{{item1.gongHuoGongSi}}</p>
                            <p ng-if="!item1.gongHuoGongSi">--</p>
                            <p ng-if="item1.gongHuoGongSiBianHao">{{item1.gongHuoGongSiBianHao}}</p>
                            <p ng-if="!item1.gongHuoGongSiBianHao">--</p>
                        </td>
                        <td style="width: 4%;">
                            <a href="{{item1.name}}" style="text-decoration:underline;color:#0094FF;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;width: 130px;display: block;font-size: 12px;" target="_blank">{{item1.caiGouLianJie}}</a>
                        </td>
                        <td style="width: 4%;"><span>{{item1.daoChuCishu}}</span></td>

                        <!-- <td><span><p style="cursor: pointer;" ng-click="ckFun(item1)"><font class="view-gys">{{'100565' | translate}}</font></p></span></td> -->
                        <td><span>
                            <p>{{item1.ORDERNEEDCOUNT}}</p>
                            <p style="cursor: pointer;" ng-click="viewFun(item1)">{{item1.empSet[0]}}</p>
                            </span></td>
                        <!-- <td><span>{{item1.kuCun}}</span></td>
                        <td><span>{{item1.INPROCUREMENTCOUNT}}</span></td> -->
                        <td>
                            <span ng-if="item1.caiGouDanJia">¥{{item1.caiGouDanJia}}</span>
                            <span ng-if="!item1.caiGouDanJia">--</span>
                            <span title="请直接用第一个链接购买" ng-if="item1.youJiaGe==1" class="you-jia">价</span>
                        </td>
                        <td>
                            <span ng-if="item1.caiGouDanJia&&item1.ORDERNEEDCOUNT">¥{{item1.caiGouDanJia*item1.ORDERNEEDCOUNT | number:2}}</span>
                            <span ng-if="!item1.caiGouDanJia||!item1.ORDERNEEDCOUNT">--</span>
                        </td>
                        <td><span ng-class='{"red-color":item1.TRANSPORTDAY>4}'>{{item1.TRANSPORTDAY}}</span></td>
                        <!-- <td><span style="color: #08aceb;">{{(item1.ORDERNEEDCOUNT-item1.INPROCUREMENTCOUNT-item1.kuCun)>0?(item1.ORDERNEEDCOUNT-item1.INPROCUREMENTCOUNT-item1.kuCun):0}}</span></td> -->
                        <td><span>{{item.storageName}}</span></td>
                        <td>
                            <span><a role="button" herf="javascript:void(0);" class="poplinkt active" ng-click="caigou(item1)">
                                    采购
                                </a></span>
                        </td>
                        <!-- <td class="relative">
                             <span>
                                <a role="button" herf="javascript:void(0);" class="poplinkt active" ng-click="caigou(item1)">
                                    设置采购
                                </a>
                            <a role="button" herf="javascript:void(0);" class="poplinkt" ng-click="xxwcFun(item1)">
                                {{'100566' | translate}}
                            </a>
                            <a role="button" herf="javascript:void(0);" class="poplinkt" ng-click="zjWcFun(item1)">
                                采购完成
                            </a>
                            <section id="show-img" ng-show="item1.flag2">
                                <h3>{{'100393' | translate}}</h3>
                                <ul class="state-modify-list">
                                    <li><span class="list-tit">{{'100202' | translate}}</span><span class="list-con"><select class="input-full">
                                                <option>{{'100567' | translate}}</option>
                                                <option>{{'100568' | translate}}</option>
                                                <option>{{'100569' | translate}}</option>
                                                <option>{{'100570' | translate}}</option>
                                                <option>{{'100430' | translate}}</option>
                                            </select></span></li>
                                    <li><span class="list-tit">{{'100430' | translate}}</span><span class="list-con"><input type="text" value="" class="input-full"></span></li>
                                </ul>
                                <closetext class="btn-cancel" ng-click="item1.flag2=false">{{'100051' | translate}}</closetext>
                                <closetextt class="btn-determine">{{'100050' | translate}}</closetextt>
                            </section>
                            </span>
                        </td> -->
                    </tr>
                </tbody>
                </table>
                <div ng-show="totalNum<1" style="text-align: center;">暂无数据</div>
                <div class="page-box" ng-show="totalNum>0">
                    <div class="select-page-num">
                        <select class="form-control" ng-model="pageSize" ng-change="changePageSize()">
                            <option value="20">20</option>
                            <option value="30">30</option>
                            <option value="50">50</option>
                        </select>
                        <span>每页</span>
                    </div>
                    <div class="total-num">
                        共&nbsp;&nbsp;{{ totalNum }}&nbsp;&nbsp;条
                    </div>
                    <div class="page-index">
                        <div id="pagination1" class="pagination2">
                            
                        </div>
                    </div>
                    <div class="to-go">
                        <span>跳转：</span>
                        <input type="text" class="form-control" placeholder="" ng-model="pageNum">
                        <a class="btn btn-default" href="javascript: void(0);" role="button" ng-click="toSpecifiedPage()">go</a>
                        <!-- <span class="count-money">总金额:</span>
                        <span class="count-mnum">{{countMoney}}</span> -->
                    </div>
                </div>
            </div>
          </div>
        </div>
        <!-- </div> -->
        <!-- </div> -->
    </div>
    <!-- 查看供应商 -->
     <div class="viewgys-wrap" ng-show="ckflag">
        <div class="view-con" style="width: 1100px;">
            <div class="tit-name">
                {{'100565' | translate}}
                <button style="float: right;font-size: 16px;" ng-click="bianjiGysFun()" class="gysxq-czbtn">编辑</button>
            </div>
            <div class="caigou-tab-wrap">
                <table class="table table-bordered" id="gys-table">
                      <tr class="tbody-ul">
                          <th style="width: 55px;">{{'100174' | translate}}</th>
                          <th style="width: 200px;">{{'100571' | translate}}</th>
                          <th style="width: 140px;">
                              公司名称/公司编号
                          </th>
                          <!-- <th style="width: 200px;">货源地</th> -->
                          <th style="width: 170px;">{{'100425' | translate}}</th>
                          <!-- <th style="width: 100px;">产品属性</th> -->
                          <th style="width: 100px;">平均采购价</th>
                          <th style="width: 100px;">总采购量</th>
                          <th style="width: 150px;">操作</th>
                      </tr>
                      
                      <tr ng-repeat="item in gysList">
                            <td style="width: 55px;">{{$index+1}}</td>
                            <td style="width: 200px;">
                                <a ng-show="!item.flag" href="{{item.name}}" style="width: 200px;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;display: block;color:#0094FF;text-decoration: underline;margin:0 auto;" target="_blank">{{item.name}}</a>
                                <input ng-show="item.flag" ng-model="item.name" style="width: 200px;height: 30px;"></input>
                            </td>
                            <td>
                                <p ng-show="item.gongSiMing">{{item.gongSiMing}}</p>
                                <p ng-show="!item.gongSiMing">--</p>
                                <p ng-show="item.bianHao">{{item.bianHao}}</p>
                                <p ng-show="!item.bianHao">--</p>
                            </td>
                            <!-- <td style="width: 130px;">
                               <p></p>
                               <input style="height: 30px;width: 130px;"></input>
                            </td>
                            <td style="width: 245px;">
                               <p></p>
                               <select></select>
                               <select></select>
                            </td> -->
                            <td style="width: 170px;">
                                <!-- <i class="ea-gard-star ea-gard{{item.star}}"></i> -->
                                <div ng-show="!item.flag" class="right set-star-right">
                                  <a ng-class="{'star':item.star >= 1}" href="javascript:void(0);"></a>
                                  <a ng-class="{'star':item.star >= 2}" href="javascript:void(0);"></a>
                                  <a ng-class="{'star':item.star >= 3}" href="javascript:void(0);"></a>
                                  <a ng-class="{'star':item.star >= 4}" href="javascript:void(0);"></a>
                                  <a ng-class="{'star':item.star >= 5}" href="javascript:void(0);"></a>
                                </div>
                                <div ng-show="item.flag" class="td-star">
                                    <a class="g-star" ng-class="{'star':item.star >= 1}" href="javascript:void(0);" ng-click="changeSPStar(1,item)" ng-mouseenter="showYStar($event)" ng-mouseleave="hideYStar(item,$event)"></a>
                                    <a class="g-star" ng-class="{'star':item.star >= 2}" href="javascript:void(0);" ng-click="changeSPStar(2,item)" ng-mouseenter="showYStar($event)" ng-mouseleave="hideYStar(item,$event)"></a>
                                    <a class="g-star" ng-class="{'star':item.star >= 3}" href="javascript:void(0);" ng-click="changeSPStar(3,item)" ng-mouseenter="showYStar($event)" ng-mouseleave="hideYStar(item,$event)"></a>
                                    <a class="g-star" ng-class="{'star':item.star >= 4}" href="javascript:void(0);" ng-click="changeSPStar(4,item)" ng-mouseenter="showYStar($event)" ng-mouseleave="hideYStar(item,$event)"></a>
                                    <a class="g-star" ng-class="{'star':item.star >= 5}" href="javascript:void(0);" ng-click="changeSPStar(5,item)" ng-mouseenter="showYStar($event)" ng-mouseleave="hideYStar(item,$event)"></a>
                                </div> 
                            </td>
                            <!-- <td style="width: 100px;">
                               <p></p>
                               <select></select>
                            </td> -->
                            <td>{{item.pinJunDanJia}}</td>
                            <td>{{item.zongCaiGouLiang}}</td>
                            <td style="width: 150px;">
                                <button ng-click="addGysFun()" class="gysxq-czbtn">添加</button>
                                <button ng-click="deletGysFun($index)" class="gysxq-czscbtn">删除</button>
                                <p class="ckgys-paixu">
                                    <span ng-click="gyspxUpFun($index)" class="top-span"></span>
                                    <span ng-click="gyspxDownFun($index)" class="down-span"></span>
                                </p>
                            </td>
                      </tr>
                </table>
            </div>
            <div class="bottom-btns">
                <button ng-click="ckcloseFun()">{{'100066' | translate}}</button>
                <button ng-click="ckGysWcFun()" class="sure-canbtn">完成</button>
            </div>
        </div>
    </div>

	<!-- 单个采购 -->
    <div class="viewgys-wrap" ng-show="flag1">
        <div class="view-con" style="width: 980px;">
            <div class="tit-name">{{'100004' | translate}}</div>
            <div class="caigou-tab-wrap">
            <table class="table table-bordered">
                  <tr class="tbody-ul">
                      <th style="width: 50px;">{{'100174' | translate}}</th>
                      <th style="width: 240px;">{{'100571' | translate}}</th>
                      <th style="width: 100px;">{{'100425' | translate}}</th>
                      <th style="width: 100px;">{{'100044' | translate}}</th>
                      <th style="width: 150px;">{{'100027' | translate}}</th>
                      <th style="width: 130px;">订单标记</th>
                      <th style="width: 80px;">{{'100449' | translate}}</th>
                      <!-- <th style="width: 100px;">{{'100005' | translate}}</th> -->
                      <th style="width: 90px;">{{'100043' | translate}}</th>
                  </tr>
                  
                  <tr ng-repeat="item in cgList">
                        <td style="width: 50px;">{{$index+1}}</td>
                        <td style="width: 240px;"><a href="{{item.name}}" style="text-decoration:underline;color:#0094FF;word-break: break-all;" target="_blank">{{item.name}}</a></td>
                        <td style="width: 100px;"><i class="ea-gard-star ea-gard{{item.star}}"></i></td>
                        <td style="width: 100px;">
                            <!-- <input type="number" id="count{{$index+1}}" style="width: 100%; text-align: center"> -->
                            <span>{{item.ORDERNEEDCOUNT}}</span>
                        </td>
                        <td style="width: 150px;">
                            <input type="text" id="ordnum{{$index+1}}" style="width: 100%;text-indent: 12px;">
                        </td>
                        <!-- <td style="width: 100px;">
                            <select class="sel-ckname" id="ckSel{{$index+1}}">
                                <option value="">{{'100572' | translate}}</option>
                                <option value="{{item.storage+'#'+item.id}}" ng-repeat="item in ckArr">{{item.storage}}</option>
                            </select>
                        </td> -->
                        <td style="width: 130px;">
                            <select style="width: 120px;" ng-model="item.dingDanZhuangtai">
                                <option value="zhengChang">正常</option>
                                <option value="jiaJi">加急</option>
                                <option value="vip">Vip</option>
                                <option value="zhiFa">直发</option>
                                <option value="zuZhuang">组装</option>
                                <option value="buRuKu">不入库</option>
                            </select>
                        </td>
                        <td style="width: 80px;">
                            <span>{{item.price}}</span>
                        </td>
                        <td style="width: 90px;"><a role="button" href="javascript:void(0);" ng-click="chudancaigou(item,$index+1)" class="poplinkt active">{{'100050' | translate}}</a></td>
                  </tr>
            </table>
            </div>
            <div class="bottom-btns">
                <button ng-click="ckcloseFun()">{{'100066' | translate}}</button>
            </div>
        </div>
    </div>


    <div class="ordnum-wrap" ng-show="ordnumFlag">
        <div class="ordnum-con">
            <div class="ordncon-list">
                <table class="table table-bordered">
                    <tr style="background-color: #f4f8fd;">
                        <!-- <td>序号</td> -->
                        <td>{{'100115' | translate}}</td>
                        <td>客户订单号</td>
                        <td>{{'100308' | translate}}</td>

                    </tr>
                    <tr ng-repeat="ord in ordList">
                        <!-- <td>{{}}</td> -->
                        <td>{{ord.orderId}}</td>
                        <td>{{ord.orderNum}}</td>
                        <td>{{ord.orderCount}}</td>

                        <!-- <td>{{item}}</td> -->
                    </tr>
                </table>
            </div>
            <button class="close-numbtn" ng-click="closeOrdNumFun()">{{'100066' | translate}}</button>
        </div>
    </div>
    <!-- 失败的按钮 -->
    <!-- <div class="errbtn-wrap" ng-show="errFlag">
        <div class="errtk-con">
            <div class="errtk-text">
                <textarea class="err-textVal"></textarea>
            </div>
            <div class="errtk-btns">
                <button ng-click="errCloseFun()" class="errtk-canbtn">{{'100066' | translate}}</button>
                <button ng-click="errSureFun()" class="errtk-surebtn">{{'100050' | translate}}</button>
            </div>
        </div>
    </div> -->
    <!-- 是否确认线下采购 -->
    <div class="errbtn-wrap" ng-show="isSureXxcgFlag">
        <div class="errtk-con" style="height: 130px;">
            <p style="height: 50px;">是否确认线下采购完成?</p>
            <div class="errtk-btns">
                <button ng-click="qxXxcgFun()" class="errtk-canbtn">{{'100066' | translate}}</button>
                <button ng-click="sureXxcgFun()" class="errtk-surebtn">{{'100050' | translate}}</button>
            </div>
        </div>
    </div>
    <!-- 采购完成 -->
    <div class="errbtn-wrap" ng-show="cgwcFlag">
        <div class="errtk-con">
            <div class="errtk-text">
                <textarea ng-model="cgwcVal" class="err-textVal"></textarea>
            </div>
            <div class="errtk-btns">
                <button ng-click="qxCgwcFun()" class="errtk-canbtn">{{'100066' | translate}}</button>
                <button ng-click="sureCgwcFun()" class="errtk-surebtn">{{'100050' | translate}}</button>
            </div>
        </div>
    </div>
    <!-- 采购完成 -->
    <div class="errbtn-wrap" ng-show="bulkCgwcFlag">
        <div class="errtk-con" style="height: 135px;">
            <p style="margin-bottom: 30px;">是否确定批量完成?</p>
            <div class="errtk-btns">
                <button ng-click="bulkCgwcFlag=false" class="errtk-canbtn">{{'100066' | translate}}</button>
                <button ng-click="bulksureCgwcFun()" class="errtk-surebtn">{{'100050' | translate}}</button>
            </div>
        </div>
    </div>
    <!-- 线下采购返回的订单号 -->
    <div class="errbtn-wrap" ng-show="dingDanHFlag">
        <div class="errtk-con" style="height: 120px;width: 500px;">
            <p style="text-align: left;height: 50px;">系统生成的订单号: <span>{{dingDanHao}}</span></p>
            <div class="errtk-btns">
                <button ng-click="gbDdhFun()" class="errtk-canbtn">{{'100066' | translate}}</button>
                <!-- <button ng-click="errSureFun()" class="errtk-surebtn">{{'100050' | translate}}</button> -->
            </div>
        </div>
    </div>
    <!-- 查看业务员 -->
    <div class="errbtn-wrap" ng-show="viewFlag">
        <div class="errtk-con ywy-con">
            <p class="head-li">{{'100573' | translate}}</p>
            <ul class="ywy-list">
                <li ng-repeat="item in ywyListArr">
                    {{item}}
                </li>
            </ul>
            <div class="fiexdbottom-btns">
                <button ng-click="viewCloseFun()" class="errtk-canbtn">{{'100066' | translate}}</button>
            </div>
        </div>
    </div>
    <!-- 采购完成 -->
    <div class="viewgys-wrap" ng-show="bulkXxcgFlag">
        <div class="view-con" style="width: 730px;height: 535px;">
            <div class="tit-name">{{'100557' | translate}}</div>
            <span>供货公司:</span>
            <input class="w130" ng-model="cgrModel"></input>
            <span style="margin-left: 30px;">采购总金额:</span>
            <input class="w130" type="number" ng-model="cgrMoneyCount"></input>
            <span style="margin-left: 30px;">仓库:</span>
            <select class="w130" ng-model="xxcgCkVal">
                <option value="0">义乌</option>
                <option value="1">深圳</option>
            </select>
            <div class="caigou-tab-wrap" style="margin-top: 12px;">
                <table class="table table-bordered">
                      <tr class="tbody-ul">
                          <th style="width: 100px;">图片</th>
                          <th style="width: 150px;">SKU</th>
                          <th style="width: 130px;">单价</th>
                          <th style="width: 130px;">数量</th>
                      </tr>
                      <tr ng-repeat="item in xxcgList">
                            <td>
                                <img style="width: 60px;height: 60px;" ng-src="{{item.IMG}}">
                            </td>
                            <td style="width: 150px;">{{item.SKU}}</td>
                            <td style="width: 130px;">
                                <input type="number" ng-model="item.danJia" ng-blur="xxcgdanJIafun(item,$index)" style="width: 130px;height:30px;text-align: center;">
                            </td>
                            <td style="width: 130px;">
                                <input type="number" ng-model="item.xxcgNum" ng-blur="xxcgNumfun(item,$index)" style="width: 130px;height:30px;text-align: center;">
                            </td>
                      </tr>
                </table>
            </div>
            <div class="bottom-btns">
                <button ng-click="bulkXxcgFlag=false">{{'100066' | translate}}</button>
                <button class="sure-canbtn" ng-click="bulkXxcgSureFun()">{{'100050' | translate}}</button>
            </div>
        </div>
    </div>
    <!-- 批量采购 -->
        <div class="viewgys-wrap" ng-show="bulkCgFlag">
            <div class="view-con" style="width: 800px;">
                <div class="tit-name">{{'100557' | translate}}</div>
                <div class="caigou-tab-wrap">
                <table class="table table-bordered">
                      <tr class="tbody-ul">
                          <th style="width: 50px;">{{'100174' | translate}}</th>
                          <th style="width: 240px;">{{'100571' | translate}}</th>
                          <th style="width: 100px;">{{'100425' | translate}}</th>
                          <!-- <th style="width: 100px;">采购数量</th> -->
                          <th style="width: 150px;">{{'100027' | translate}}</th>
                          <th style="width: 130px;">订单标记</th>
                          <!-- <th style="width: 80px;">采购价格</th> -->
                          <!-- <th style="width: 100px;">{{'100005' | translate}}</th> -->
                          <th style="width: 90px;">{{'100043' | translate}}</th>
                      </tr>
                      
                      <tr ng-repeat="item in cgList">
                            <td style="width: 50px;">{{$index+1}}</td>
                            <td style="width: 240px;"><a href="{{item.name}}" style="text-decoration:underline;color:#0094FF;word-break: break-all;" target="_blank">{{item.name}}</a></td>
                            <td style="width: 100px;"><i class="ea-gard-star ea-gard{{item.star}}"></i></td>
                            <!-- <td style="width: 100px;">
                                <span>{{item.ORDERNEEDCOUNT}}</span>
                            </td> -->
                            <td style="width: 150px;">
                                <input type="text" id="bulkordnum{{$index+1}}" style="width: 100%;text-indent: 12px;">
                            </td>
                            <!-- <td style="width: 80px;"><input type="number" value="{{item.price}}" id="price{{$index+1}}" style="width: 100%; text-align: center"></td> -->
                            <!-- <td style="width: 100px;">
                                <select class="sel-ckname" id="bulkckSel{{$index+1}}">
                                    <option value="">{{'100572' | translate}}</option>
                                    <option value="{{item.storage+'#'+item.id}}" ng-repeat="item in ckArr">{{item.storage}}</option>
                                </select>
                            </td> -->
                            <td style="width: 130px;">
                                <select style="width: 120px;" ng-model="item.dingDanZhuangtai">
                                    <option value="zhengChang">正常</option>
                                    <option value="jiaJi">加急</option>
                                    <option value="vip">Vip</option>
                                    <option value="zhiFa">直发</option>
                                    <option value="zuZhuang">组装</option>
                                    <option value="buRuKu">不入库</option>
                                </select>
                            </td>
                            <td style="width: 90px;"><a role="button" href="javascript:void(0);" ng-click="sureBulkFun(item,$index+1)" class="poplinkt active">{{'100050' | translate}}</a></td>
                      </tr>
                </table>
                </div>
                <div class="bottom-btns">
                    <button ng-click="bulkCloseFun()">{{'100066' | translate}}</button>
                </div>
            </div>
        </div>
       <!-- 为采购添加备注消息 -->
		<div class="viewgys-wrap" ng-show="messageFlag">
            <div class="view-con" style="width: 800px;">
                <div class="tit-name">{{'100574' | translate}}</div>
                <div class="caigou-tab-wrap">
         <textarea id="messageArea" ng-model="messageArea" placeholder="{{'100575' | translate}}" style="width:750px;height:170px"></textarea>
         <p style="font-size: 18px;margin:10px 0;border-top: 1px dashed #333;">商品备注</p>
         <p style="text-align: left;" ng-cloak>{{localRemark}}</p>
         <!-- <input id="messageArea" ng-model="messageArea" placeholder="在此处填写信息,请注意不要超过500个字!!"  style="width:750px;height:350px"/>  -->
        </div>
        <div class="bottom-btns">
               <button ng-click="messageSureFun()">{{'100050' | translate}}</button>
               <button ng-click="messageCloseFun()">{{'100066' | translate}}</button>
        </div></div>
    </div>
    <!-- 编辑 -->
    <div class="viewgys-wrap" ng-show="bianjiFlag">
        <div class="view-con" style="width: 730px;height: 535px;">
            <div class="tit-name">为初级采购设置</div>
            <!-- <span>供货公司:</span>
            <input class="w130" ng-model="cgrModel"></input>
            <span style="margin-left: 30px;">采购总金额:</span>
            <input class="w130" type="number" ng-model="cgrMoneyCount"></input>
            <span style="margin-left: 30px;">仓库:</span>
            <select class="w130" ng-model="xxcgCkVal">
                <option value="0">义乌</option>
                <option value="1">深圳</option>
            </select> -->
            <div class="caigou-tab-wrap" style="margin-top: 12px;">
                <table class="table table-bordered">
                      <tr class="tbody-ul">
                          <th style="width: 100px;">图片</th>
                          <th style="width: 150px;">SKU</th>
                          <th style="width: 130px;">单价</th>
                          <th style="width: 130px;">数量</th>
                          <th style="width: 130px;">留言</th>
                      </tr>
                      <tr ng-repeat="item in spbtList">
                            <td>
                                <img style="width: 60px;height: 60px;" ng-src="{{item.IMG}}">
                            </td>
                            <td style="width: 150px;">{{item.SKU}}</td>
                            <td style="width: 130px;">
                                <input ng-show="cgDjStu=='chuJi'" type="number" ng-model="item.COSTPRICE" style="width: 130px;height:30px;text-align: center;">
                                <span ng-show="cgDjStu=='gaoJi'">{{item.COSTPRICE}}</span>
                            </td>
                            <td style="width: 130px;">
                                <input ng-show="cgDjStu=='chuJi'" type="number" ng-model="item.ORDERNEEDCOUNT" style="width: 130px;height:30px;text-align: center;">
                                <span ng-show="cgDjStu=='gaoJi'">{{item.ORDERNEEDCOUNT}}</span>
                            </td>
                            <td style="width: 130px;">
                                <input ng-show="cgDjStu=='chuJi'" type="text" ng-model="item.liuYan" style="width: 130px;height:30px;text-align: center;">
                                <span ng-show="cgDjStu=='gaoJi'">{{item.chuJiLiuYan}}</span>
                            </td>
                      </tr>
                </table>
            </div>
            <div class="bottom-btns">
                <button ng-click="bianjiFlag=false">{{'100066' | translate}}</button>
                <button ng-show="cgDjStu=='chuJi'" class="sure-canbtn" ng-click="cjcgSureFun()">{{'100050' | translate}}</button>
                <button ng-show="cgDjStu=='gaoJi'" class="sure-canbtn" ng-click="gjcgSureFun()">{{'100050' | translate}}</button>
            </div>
        </div>
    </div>
    <!-- 查看高级采购的留言 -->
    <div class="errbtn-wrap" ng-show="gjcgLiuYanFlag">
        <div class="errtk-con">
            <div class="errtk-text">
                <p>{{gjcgLiuYan}}</p>
            </div>
            <div class="errtk-btns">
                <button ng-click="gjcgLiuYanFlag=false" class="errtk-canbtn">{{'100066' | translate}}</button>
            </div>
        </div>
    </div>
    <!-- 是否确认导出订单 -->
    <div class="errbtn-wrap" ng-show="isSureDcexcelFlag">
        <div class="errtk-con" style="height: 130px;">
            <p style="height: 50px;">是否确认导出订单?</p>
            <div class="errtk-btns">
                <button ng-click="qxDcexcelFun()" class="errtk-canbtn">{{'100066' | translate}}</button>
                <button ng-click="sureDcexcelFun()" class="errtk-surebtn">{{'100050' | translate}}</button>
            </div>
        </div>
    </div>
    <!-- 生成excel的导出弹窗 -->
    <div ng-show="excelFlag" class="mdtc-wrap">
        <div class="mdtc-con">
            <div class="mdtc-top">
                <p ng-repeat="item in spExcelArr" style="padding: 10px 0;position: relative;">
                    <a class="md-linnk-a" ng-class="{'active-clickmd':mdsrc.printCount>0}" href="{{item}}">{{item}}</a>
                </p>
            </div>
            <div class="mdtc-btns">
                <button ng-click="closeTcFun()">{{'100066' | translate}}</button>
            </div>
        </div>
    </div>
</body>

</html>
