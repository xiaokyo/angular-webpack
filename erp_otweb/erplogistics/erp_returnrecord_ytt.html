<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>退件记录</title>
    <!-- <link rel="stylesheet" type="text/css" href="erp_otweb/css/erp-public_style.css" /> -->
    <link rel="stylesheet" type="text/css" href="erp_otweb/css/erp-wa-KeHu-style.css"/>
</head>
<style>
    .clearfix:after {
        content: "";
        display: block;
        clear: both;
    }

    .ea-right-search .fl{
        float: right;
    }
    .ea-right-search .fl:hover{
        background-color: #08ACE9;
        color: #fff;
    }
    .ea-right-search .fr{
        float: right;
    }
    .related{
        background-color: green;
        font-size: 12px;
        color: #fff;
        padding: 3px 10px;
    }
    .Unrelated{
        background-color: orange;
        font-size: 12px;
        color: #fff;
        padding: 3px 8px;
    }
    .ea-list-table td input{
        width: inherit;
        height: inherit;
        border: none;
        border-radius: 3px;
    }
    .layui-layer-btn .layui-layer-btn0{
        width: 70px;
        background-color: #999;
        border: none;
    }
    .layui-layer-btn .layui-layer-btn1{
        width: 70px;
        background-color: #08aceb;
        border: none;
    }
    .selectActive {
        background: #e8f4ff;
    }
    .overTR:hover{
        background: #e8f4ff;
    }
    .serState{
        /*margin-left: 15px;*/
        height: 30px;
        padding: 0 10px;
        border-radius: 3px;
        width: 270px;
    }
    .search-box{
        width: 100%;
    }
    .search-box .top-search-btn,.input-group .form-control{
        float: inherit;
    }
    .search-box label{
        margin:  0 10px 10px 0;
        width: 345px;
    }
    .search-box label span{
        width: 90px;
        display: inline-block;
        text-align: right;
    }
    .search-box .top-search-btn{
        /*margin-left: 75px;*/
        width: 90px;
        border: 1px solid #08aceb;
        border-left: none;
        background-color: #fff;
        color: #08aceb;
        vertical-align: top;
    }
    .search-box .top-search-btn:hover{
        background-color: #08aceb;
        color: #fff;
    }
    #c-mu-ord .c-mu-allchekbox,.c-mu-chekbox{
        cursor: pointer;
    }
    #c-mu-ord td{
        font-size: 13px;
    }
    #c-mu-ord td p{
        font-size: 12px;
    }
    body .guanlianshangpin{
        width: 670px;
        height: 430px;
        padding:20px;
    }
    body .guanlianshangpin input,select{
        width: 500px;
        line-height: 28px;
        height: 28px;
        padding: 0 8px;
        border-radius: 3px;
    }
    body .guanlianshangpin .add-wrap-con{
        display: block;
        margin: 15px 0;
        /*text-align: center;*/
    }
    body .guanlianshangpin .add-tjjlbtns button{
        width: 70px;
        height: 30px;
        background: rgba(249,193,52,1);
        border-radius: 2px;
        /*margin-left: 20px;*/
        color: #fff;
    }
    body .guanlianshangpin label span{
        display: inline-block;
        /*width: 112px;*/
        text-align: right;
    }
    .search-box label{
        width: auto;
    }
    .red{
        color: red;
    }
    .greens{
        color: green;
    }
    .set label{
        margin-right: 15px;
    }
    .set label input,select{
        width: 220px;
        line-height: 28px;
        height: 28px;
        padding: 0 8px;
        border-radius: 3px;
    }
    table button{
        background-color: #ff9328;
        color: #fff;
        border-radius: 3px;
        font-size: 14px;
        padding: 2px 5px;
    }
    body .guanlianshangpin ul{
        /*height: 300px;
        overflow-y: scroll;
        border: 1px solid #8c8c8c;
        padding: 10px;*/
    }
    body .guanlianshangpin ul li{
        /*line-height: 18px;
        padding: 5px;
        height: 28px;
        margin-bottom: 5px;*/
        height: 20px;
    }
    body .guanlianshangpin ul li:nth-child(even){
        background-color: #449d44;
    }
    body .guanlianshangpin ul li:hover{
        background-color: #CCCCCC;
    }
    body .guanlianshangpin ul li span{
        float: right;
        cursor: pointer;
        /*width: 15px;*/
        line-height: 20px;
    }
    body .guanlianshangpin ul li .span-serial{
        float: left;
        display: inline-block;
        width: 40px;
        text-align: center;
    }
    body .guanlianshangpin .content-active{
        border: 1px solid #4791ff;
    }
    .zzh-listdiv{
        border: 1px solid #ff9916;
        height: 300px;
        overflow: auto;
    }
    .indexnum-ul{
        float: left;
    }
    .text-list{
        display: block;
        /*border: 1px solid;*/
        /*width: 100%;*/
        width: 560px;
        height: 2000px;
        float: left;
        line-height: 20px;
        overflow: hidden;
    }
    /*更多操作*/
    .morefun-div{
        position: relative;
        width: 92px;
        margin: 0 auto;
    }
    .more-btn{
        color: #333333;
        line-height: 23px;
    }
    .morefun-div .caret{
        display: inline-block;
        width: 0;
        height: 0;
        margin-left: 2px;
        vertical-align: middle;
        border-top: 4px dashed;
        border-right: 4px solid transparent;
        border-left: 4px solid transparent;
    }
    .more-selul{
        font-size: 12px;
        display: none;
        position: absolute;
        left: 0;
        top: 21px;
        z-index: 3;
        width: 100%;
        box-shadow: 0px 8px 20px;
    }
    .more-selul li{
        font-size: 12px;
        cursor: pointer;
        background-color: #fff;
        display: block;
        width: 100%;
        line-height: 23px;
    }
    .more-selul li:hover{
        background-color: #e3e3e3;
    }
    .morefun-div:hover .more-selul{
        display: block;
    }
    .font-yellow{
        color: #f0ad4e;
    }
    .font-green{
        color: #449d44;
    }
    .font-red{
        color: #d9534f;
    }
    .font-blue{
        color: #5bc0de;
    }
    .return-modefy-btn{
        width: 60px;
        height: 30px;
        border: 1px solid #08ACE9;
        border-radius: 4px;
        color: #08ACE9;
        background-color: #fff;
    }
    .return-modefy-btn:hover{
        color: #fff;
        background-color: #08ACE9;
    }
    #c-mu-ord td img{
        width: 60px;
        height: 60px;
    }
    /*.ytt-cusname-td{
        cursor: pointer;
    }
    .ytt-cusname-td:hover{
        color: #f99429;
    }*/
</style>
<body>
<div class="ea-content">
    <!-- left nav -->
    <div class="left-bar">
        <ul>
            <li><a href="#/erplogistics/setmoney">{{'100696' | translate}}</a></li>
            <li><a href="#/erplogistics/channelset">{{'100697' | translate}}</a></li>
            <li><a href="#/erplogistics/freighttrial">{{'100698' | translate}}</a></li>
            <li><a href="#/erplogistics/waybillsearch">{{'100699' | translate}}</a></li>
            <li><a href="#/erplogistics/trackstatistics">{{'100700' | translate}}</a></li>
            <li><a href="#/erplogistics/forwarding">{{'100701' | translate}}</a></li>
            <li class="active"><a href="#/erplogistics/ReturnRecords">{{'100702' | translate}}</a></li>
        </ul>
    </div>
    <!-- right con -->
    <div class="right-bar-wrap ea-right-content" style="padding: 0 20px 0 230px">
        <div id="top-tab" class="top-tab position-fixed" style="padding-top: 0;">
            <!-- tab -->
            <div class="top-tab-nav d-flex">
                <span class="tab-span tab-border-bt cursor-pointer">
                    <a href="#/erplogistics/yttdetailrecord">退回包裹</a>
                </span>
                <span class="tab-span tab-active tab-border-bt cursor-pointer">
                    <a href="javascript:void(0);">用户</a>
                </span>
            </div>
        </div>
        <!--<div class="top-taps clearfix">-->
            <!--<ul>-->
                <!--<li><a href="#/erplogistics/ReturnRecords">{{'101178' | translate}}</a></li>-->
                <!--<li class="active"><a href="#/erplogistics/yttrecord">{{'101179' | translate}}</a></li>-->
                <!--<li><a href="#/erplogistics/gnrecord">{{'101180' | translate}}</a></li>-->
            <!--</ul>-->
        <!--</div>-->
        <div class="right-bar" style="margin-top: 75px;">
            <!-- right search -->
            <div class="ea-right-search clearfix">
                <div class="input-group search-box clearfix">
                    <a ng-click="addJfFlag=true" class="dc-btn fl">{{'100826' | translate}}</a>
                </div>
                
            </div>

            <!-- right list -->
            <div class="table-con-box" >
                <table class="ea-list-table ea-erp-cs" id="c-mu-ord">
                    <tr>
                        <!-- <th><span>{{'100225' | translate}}</span></th>
                        <th><span>{{'100109' | translate}}</span></th>
                        <th><span>{{'100114' | translate}}</span></th>

                        <th><span>{{'100838' | translate}}</span></th>
                        <th><span>{{'100839' | translate}}</span></th>
                        <th>
                            <select style="width:auto;" ng-model="saleName" ng-change="saleManFun()">
                                <option value="">{{'100840' | translate}}</option>
                                <option value="{{item}}" ng-repeat="item in saleArr track by $index">{{item}}</option>
                            </select>
                        </th>
                        <th>
                            <select style="width:auto;" ng-model="hdName" ng-change="hdFun()">
                                <option value="">{{'100841' | translate}}</option>
                                <option value="{{item}}" ng-repeat="item in freightArr track by $index">{{item}}</option>
                            </select>
                        </th>
                        <th><span>{{'100842' | translate}}</span></th>
                        <th><span>{{'100843' | translate}}</span></th>
                        <th><span>{{'100844' | translate}}</span></th>

                        <th><span>{{'100340' | translate}}</span></th>
                        <th><span>{{'100043' | translate}}</span></th> -->
                        <th><span>客户名称</span></th>
                        <th><span>客户logo</span></th>
                        <!-- <th><span>客户域名地址</span></th> -->
                        <th><span>退件人数</span></th>
                    </tr>
                    <tr ng-repeat="item in returnList">
                        <td class="ytt-cusname-td">
                            <p ng-if="item.userid">{{item.name}}</p>
                            <p ng-if="!item.userid" style="height: 60px;line-height: 60px;">未关联客户</p>
                        </td>
                        <td>
                            <img ng-if="item.userid && item.logo" ng-src="{{item.logo | httpPrefix}}">
                            <span ng-if="item.userid && !item.logo">未设置</span>
                        </td>
                        <!-- <td>
                            <p ng-if="item.userid">{{item.shopurl ? 'http://'+item.shopurl.replace('http://','') : '系统自动生成的'}}</p>
                        </td> -->
                        <td ng-click="customFun(item)" style="cursor: pointer;">
                            <p style="color: #08ACE9;text-decoration: underline;">{{item.returnNumber}}</p>
                        </td>
                        <!-- <td><span>
                            {{item.createTime}}
                        </span></td>
                        <td><span><p>{{item.trackingNumber}}</p></span></td>
                        <td><span><p>{{item.shopifyOrderId}}</p></span></td>
                        <td><span>{{item.newWayId}}</span></td>
                        <td><span>{{item.causeInfo}}</span></td>
                        <td><span>{{item.salesmanName}}</span></td>
                        <td><span>{{item.freightName}}</span></td>
                        <td><span>
                            <p class="font-green" ng-if="item.isReceive==1">{{'100845' | translate}}</p>
                            <p class="font-blue" ng-if="item.isReceive==0">{{'100846' | translate}}</p>
                        </span></td>
                        <td><span>
                            <p class="font-green" ng-if="item.isReceive==1">{{'100845' | translate}}</p>
                            <p class="font-blue" ng-if="item.isReceive==0">{{'100846' | translate}}</p>
                            <p>{{'100847' | translate}}¥: <em class="font-yellow">{{item.chareMoney}}</em></p>
                        </span></td>
                        <td><span>
                            <p class="font-green" ng-if="item.isReceive==1">{{'100845' | translate}}</p>
                            <p class="font-blue" ng-if="item.isReceive==0">{{'100846' | translate}}</p>
                            <p>{{'100848' | translate}}¥: <em class="font-yellow">{{item.payMoney}}</em></p>
                        </span></td>
                        <td><span>{{item.remark}}</span></td>
                        <td>
                            <button ng-click="modefyFun(item,$index)" class="return-modefy-btn">{{'100120' | translate}}</button>
                            <div class="morefun-div" ng-click="stopFun($event)">
                                <a href="javascript:void(0);" class="more-btn">{{'100094' | translate}}</a><span class="caret"></span>
                                <ul class="more-selul">
                                    <li ng-click="tjFun(item)">{{'100849' | translate}}</li>
                                    <li ng-click="kfFun(item)">{{'100850' | translate}}</li>
                                    <li ng-click="pcFun(item)">{{'100851' | translate}}</li>
                                </ul>
                            </div>
                        </td> -->
                    </tr>
                </table>
                <!-- 分页 -->
                <!-- ng-show="hasMerch" -->
                <div class="no-data" ng-show="totalNum == 0" style="text-align: center;line-height: 60px;">没有数据</div>
                <div class="page-box" ng-show="totalNum>0">
                    <div class="select-page-num">
                        <select class="form-control" ng-model="pagesize" ng-change="pagechange(pagesize)"
                                style="width: 65px;height: 31px;">
                            <option value="20">20</option>
                            <option value="30">30</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                        <span>每页</span>
                    </div>
                    <div class="total-num">
                        共&nbsp;&nbsp;{{ totalNum }}&nbsp;&nbsp;条
                    </div>
                    <div class="page-index">
                        <div class="pagegroup">
                        </div>
                    </div>
                    <div class="to-go">
                        <span>跳转：</span>
                        <input type="text" class="goyema form-control" placeholder="" ng-model="pagenum">
                        <a class="btn btn-default" href="javascript: void(0);" role="button" ng-click="pagenumchange()">go</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="guanlianshangpin-wrap ng-scope not-content" ng-show="isadd">
        <div class="guanlianshangpin c-ord-con" style="margin: auto;right: 0;top: 0;left: 0;bottom: 0;">
            <div class="add-wrap-con">
                <span>{{'100109' | translate}}:<span style="font-size: 12px;color: #999;">({{'100852' | translate}})</span></span>
                <div class="zzh-listdiv">
                    <ul class="indexnum-ul"></ul>
                    <textarea placeholder="{{'100853' | translate}}" class="text-list"></textarea>
                </div>
            </div>
            <div class="add-tjjlbtns">
                <button class="define" ng-click="define()">{{'100050' | translate}}</button>
                <button class="clos" style="margin-left: 20px;" ng-click="close()">{{'100051' | translate}}</button>
                <button class="clos" style="margin-left: 20px;" ng-click="clearTextFun()">{{'100854' | translate}}</button>
            </div>
        </div>
    </div>
</div>
<!-- 退件 -->
<div class="return-tk-wrap" ng-show="tjFlag">
    <div class="return-tk-con">
        <div class="rt-con-text">
            <p>{{'100855' | translate}}?</p>
            <div class="tr-inp-div">
                <input class="rt-con-inp" placeholder="{{'100837' | translate}}" ng-model="returnZzh"></input>
            </div>
        </div>
        <div class="rt-con-btns">
            <button ng-click="tjFlag = false" class="rt-no-btn">{{'100846' | translate}}</button>
            <button ng-click="tjSureFun()" class="rt-yes-btn">{{'100845' | translate}}</button>
        </div>
    </div>
</div>
<!-- 扣费 -->
<div class="return-tk-wrap" ng-show="kfFlag">
    <div class="return-tk-con">
        <div class="rt-con-text">
            <p>{{'100856' | translate}}?</p>
            <div class="tr-inp-div">
                <input type="number" class="rt-con-inp" placeholder="{{'100857' | translate}}" ng-model="returnKfCount"></input>
            </div>
        </div>
        <div class="rt-con-btns">
            <button ng-click="kfFlag = false" class="rt-no-btn">{{'100846' | translate}}</button>
            <button ng-click="kfSureFun()" class="rt-yes-btn">{{'100845' | translate}}</button>
        </div>
    </div>
</div>
<!-- 赔偿 -->
<div class="return-tk-wrap" ng-show="pcFlag">
    <div class="return-tk-con">
        <div class="rt-con-text">
            <p>{{'100858' | translate}}?</p>
            <div class="tr-inp-div">
                <input type="number" class="rt-con-inp" placeholder="{{'100859' | translate}}" ng-model="returnPcMoney"></input>
            </div>
        </div>
        <div class="rt-con-btns">
            <button ng-click="pcFlag = false" class="rt-no-btn">{{'100846' | translate}}</button>
            <button ng-click="pcSureFun()" class="rt-yes-btn">{{'100845' | translate}}</button>
        </div>
    </div>
</div>
<!-- 编辑 -->
<div class="return-tk-wrap" ng-show="modefyFlag">
    <div class="return-tk-con return-modefy-con">
        <div class="mode-group">
            <input ng-model="modefyNewNum" placeholder="{{'100860' | translate}}"></input>
        </div>
        <div class="mode-group">
            <textarea ng-model="returnReson" placeholder="{{'100861' | translate}}"></textarea>
        </div>
        <div class="mode-group">
            <textarea ng-model="returnRemark" placeholder="{{'100527' | translate}}"></textarea>
        </div>
        <div class="rt-con-btns">
            <button ng-click="modefyFlag = false" class="rt-no-btn">{{'100051' | translate}}</button>
            <button ng-click="sureModefyFun()" class="rt-yes-btn">{{'100050' | translate}}</button>
        </div>
    </div>
</div>
<!-- 新增返回的结果 -->
<div class="return-tk-wrap addRes-wrap" ng-show="addResFlag">
    <div class="return-tk-con">
        <div class="mode-group">
            <p>
                {{'100862' | translate}}: <span>{{successCount}}</span>
            </p>
            <p>
                {{'100863' | translate}}: <span ng-click="errNumFun()" class="res-resultNum">{{errCount}}</span>
            </p>
        </div>
        <div class="rt-con-btns">
            <button ng-click="addResFlag = false" class="rt-no-btn">{{'100066' | translate}}</button>
        </div>
    </div>
</div>
<!-- 新增返回的结果 -->
<div class="return-tk-wrap Reserr-wrap" ng-show="ResErrFlag">
    <div class="return-tk-con res-err-con">
        <!-- <h3>失败的追踪号列表</h3> -->
        <div class="err-listdiv">
            <p ng-repeat="item in errorListArr">{{item}}</p>
        </div>
        <div class="rt-con-btns">
            <button ng-click="ResErrFlag = false" class="rt-no-btn">{{'100066' | translate}}</button>
        </div>
    </div>
</div>
<!-- 退件填写 -->
<div class="tj-list-wrap" ng-show="addJfFlag">
    <div class="tj-list-con">
        <img class="tj-list-closeimg" ng-click="addJfFlag=false" src="static/image/public-img/close-circle.png">
        <!-- 左侧表单 -->
        <div class="addjfcon-left">
            <!-- <div class="lcon-communal-group">
                <p>Email:</p>
                <input ng-blur="emailBlurFun()" ng-model="addEmail" class="inpw380"></input>
                <img ng-show="emailFlag" src="static/image/public-img/iconfont-checkcircle.png" ng-cloak>
            </div> -->
            <div class="lcon-communal-group">
                <p>Name: (非必填)</p>
                <input ng-blur="nameBlurFun()" ng-model="addCusName" class="inpw380" ng-cloak></input>
                <img ng-show="addNameFlag" src="static/image/public-img/iconfont-checkcircle.png" ng-cloak>
            </div>
            <ul class="addordlist-ul">
                <li class="addlist-li" ng-repeat="item in addList track by $index">
                     <div class="lcon-communal-group">
                        <p>Order Number: (非必填)</p>
                        <input ng-blur="ordNumBlurFun($event,$index)" ng-model="item.ordernumber" class="inpw380"></input>
                        <img ng-click="addOrdFun()" class="cursor-img" src="static/image/public-img/small-plus.png" ng-cloak>
                        <img ng-if="$index>0" ng-click="reduceOrdFun(item,$index)" style="padding: 10px 0" class="cursor-img" src="static/image/public-img/reduce.png" ng-cloak>
                    </div>
                    <div class="lcon-communal-group">
                        <p>Reason: (非必选)</p>
                        <select ng-change="selResonFun($index,item)" ng-model="item.reason" class="inpw380" ng-cloak>
                            <option value="{{sel}}" ng-repeat="sel in resonArr">{{sel}}</option>
                        </select>
                    </div>
                    <div class="lcon-communal-group">
                        <p>Return Tracking Number: <span style="color: #F99429;">(必填项)</span></p>
                        <input ng-blur="trackNumBlurFun($event,$index)" ng-model="item.returntrackingumber" class="inpw380"></input>
                        <!-- <img ng-click="addOrdFun()" class="cursor-img" src="static/image/public-img/small-plus.png" ng-cloak>
                        <img ng-if="$index>0" ng-click="reduceOrdFun(item,$index)" style="padding: 10px 0" class="cursor-img" src="static/image/public-img/reduce.png" ng-cloak> -->
                    </div>
                    <div class="uploadimgs-div">
                        <div class="res-upload-div">
                            <form class="pull-left" action="" method="post" enctype="multipart/form-data">
                            <input type="file" class="upimg-inp" name="file" ng-model="documentupload2" id="file" multiple onchange="angular.element(this).scope().upLoadImg4(this.files)">
                             </form>
                             <div class="up-bg-div">
                                <div class="up-bg-img">
                                    <img src="static/image/public-img/plus.png">
                                </div>
                                <p>Upload Image</p>
                             </div>
                        </div>
                        <div class="imgs-show-div">
                            <ul class="resshow-imgs" ng-show="item.imgs.length>0" ng-cloak>
                                <li ng-repeat="item1 in item.imgs track by $index" ng-cloak>
                                    <img class="show-big-img" ng-src="{{item1}}">
                                    <img ng-click="deleteImgFun($index,$parent.$index)" class="delete-img" src="static/image/public-img/close-circle.png">
                                </li>
                            </ul>
                        </div>
                    </div>
                    <p class="allowed-img">Allowed File Extensions: .jpg, .jpeg, .png (非必填)</p>
                </li>
            </ul>
            <button class="add-submit-btn" ng-click="submitOrdFun()">Submit</button>
        </div>
    </div>
</div>
<!-- 失败订单号的弹框 -->
<div class="error-wrap" ng-show="errorOrdFlag" ng-cloak>
    <div class="error-con">
        <img ng-click="errorOrdFlag=false" class="error-close" src="static/image/public-img/close-circle.png">
        <ul class="error-ul">
            <li ng-repeat="item in errorArr" ng-cloak>{{item}}</li>
        </ul>
    </div>
</div>
</body>
</html>
