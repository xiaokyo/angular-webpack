<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>提现申请-客户钱包管理-ERP系统</title>
    <link rel="stylesheet" type="text/css" href="erp_otweb/css/erp-public_style.css" />
</head>
<style type="text/css">
    /*执行弹窗*/

    .isequalTc-wrap .isequalTc-con {
        position: absolute;
        width: 360px;
        height: 200px;
        background-color: #fff;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        border-radius: 4px;
        padding: 10px;
    }

    .isequalTc-con p {
        font-size: 12px;
        margin-top: 30px;
    }

    .isequalTc-btns {
        position: fixed;
        bottom: 20px;
        right: 50px;
        /*// border: 1px solid red;
                // display: block;*/
    }

    .isequalTc-btns .isequalTc-cancelbtn {
        width: 76px;
        height: 30px;
        margin-right: 15px;
        background: #f6f6f6;
        border: 1px solid #cfcfcf;
        color: #6b6b6b;
        border-radius: 4px;
    }

    .isequalTc-btns .isequalTc-confirmbtn {
        background-color: #ff8d31;
        color: #fff;
        border-radius: 4px;
        width: 76px;
        height: 30px;
        /*// margin-right: 50px;*/
    }

    /*拒绝弹框*/

    .jjTc-con {
        position: absolute;
        width: 360px;
        height: 150px;
        background-color: #fff;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        border-radius: 4px;
    }

    .jjTc-con .wskx-btn {
        width: 96px;
        height: 30px;
        margin-right: 15px;
        margin-top: 20px;
        background: #fff;
        border: 1px solid #ff8d31;
        color: #ff8d31;
        border-radius: 4px;
    }

    .jjTc-con .wskx-btn:hover {
        background: #ff8d31;
        color: #fff;
    }

    .jjTc-con .jeqs-btn {
        width: 76px;
        height: 30px;
        margin-top: 20px;
        margin-right: 15px;
        background: #fff;
        border: 1px solid #ff8d31;
        color: #ff8d31;
        border-radius: 4px;
    }

    .jjTc-con .jeqs-btn:hover {
        background: #ff8d31;
        color: #fff;
    }

    .jjTc-con p {
        font-size: 12px;
        margin-top: 30px;
    }

    .jjTc-btns {
        position: fixed;
        bottom: 20px;
        right: 140px;
        /*// border: 1px solid red;
                // display: block;*/
    }

    .jjTc-btns .jjTc-cancelbtn {
        width: 76px;
        height: 30px;
        margin-right: 15px;
        background: #f6f6f6;
        border: 1px solid #cfcfcf;
        color: #6b6b6b;
        border-radius: 4px;
    }

    .jjTc-btns .jjTc-confirmbtn {
        background-color: #ff8d31;
        color: #fff;
        border-radius: 4px;
        width: 76px;
        height: 30px;
        /*// margin-right: 50px;*/
    }

    /*金额缺少的弹框*/

    .jeqs-con {
        position: absolute;
        width: 300px;
        height: 120px;
        background-color: #fff;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        border-radius: 4px;
    }

    .jeqs-con p {
        margin-top: 23px;
    }

    .jeqs-con p span {
        font-size: 12px;
    }

    .jeqs-con p input {
        width: 140px;
        text-indent: 12px;
    }

    .jeqs-con button {
        background-color: #ff8d31;
        color: #fff;
        border-radius: 4px;
        width: 76px;
        height: 30px;
        margin-top: 20px;
    }

    .topNav {
        position: fixed;
        width: calc(100% - 270px);
        top: 0;
        left: 0;
        margin-left: 260px;
        background-color: #fff;
        padding: 0 40px;
        margin-bottom: 10px;
        height: 58px;
        line-height: 58px;
        box-shadow: 2px 2px 14px 2px rgba(232, 244, 251, 1);
        /* box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.18), 0px 1px 2px 0px rgba(0, 0, 0, 0.04), 0px 2px 6px 0px rgba(0, 0, 0, 0.04); */
        z-index: 100;
        display: flex;
    }
    .topNav>a{
        display: inline-block;
        padding: 5px 20px;
        border-bottom: 3px solid transparent;
        font-size: 16px;
    }
    .topNav>a.active{
        border-bottom-color: #F9AE08;
        color: #F9AE08;
    }
    .topNav>a:hover{
        color: #F9AE08;
    }
</style>

<body>
    <!-- content -->
    <div class="ea-content">
        <!-- <div class="ea-content-box"> -->
        <!-- <div class="ea-content-con"> -->
        <!-- left nav -->
        <div class="left-bar">
            <ul>
                <li><a href="#/allmony">{{'100286' | translate}}</a></li>
                <li class="active"><a href="#/erpfinance/walletcuslistdel">{{'100287' | translate}}</a></li>
                <li><a href="#/erpfinance/accountquery">{{'100288' | translate}}</a></li>
            </ul>
        </div>
        <!-- right con -->
        <div class="right-bar-wrap ea-right-content">
            <div class="asj-h10"></div>
            <!-- right nav -->
            <div class="topNav">
                <a ng-class="{'active':withdrawalType==2}" href="#/erpfinance/walletcash">CJ提现</a>
                <a ng-class="{'active':withdrawalType==13}" href="#/erpfinance/walletcash/13">COD提现</a>
                <a href="#/erpfinance/tixian">分销提现</a>
            </div>
            <div class="right-bar" style="margin-top: 60px">
                <div class="top-nav-wrap">
                    <div class="top-nav clearfix">
                        <ul class="top-nav-ul">
                            <li ng-class="{'active': cashStatus=='0'}"
                                ng-click="cashStatus='0';pageNum='1';getCashList();">{{'100325' | translate}}</li>
                            <li ng-class="{'active': cashStatus=='1'}"
                                ng-click="cashStatus='1';pageNum='1';getCashList();">{{'100326' | translate}}</li>
                            <li ng-class="{'active': cashStatus=='2'}"
                                ng-click="cashStatus='2';pageNum='1';getCashList();">{{'100327' | translate}}</li>
                            <!-- <li>搜品关联</li> -->
                            <!-- <li ng-click="getListOffAss()">线下指派</li> -->
                        </ul>
                    </div>
                    <!-- <div class="add-merch"><a href="#/merchandise/addSKU1" target="_blank" class="add-merch-btn">添加商品</a></div> -->
                </div>
                <!-- right search -->
                <div class="ea-right-search">
                    <div class="datatime-screen-wrap clearfix">
                        <div class="datatime-screen"><a href="javaScript:void(0)"
                                ng-click="lastWeek(0,$event)">{{'100296' | translate}}</a><a href="javaScript:void(0)"
                                ng-click="lastWeek(1,$event)">{{'100297' | translate}}</a><a class="active"
                                href="javaScript:void(0)" ng-click="lastWeek(2,$event)">{{'100298' | translate}}</a><a
                                href="javaScript:void(0)" ng-click="lastWeek(3,$event)">{{'100299' | translate}}</a>
                            <input class="Wdate data-inp" style="text-indent: 12px;height: 30px;" id="txtBeginDate"
                                type="text" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd'})"></input><input id="txtEndDate"
                                placeholder="Now" class="Wdate data-inp" style="text-indent: 12px;height: 30px;"
                                type="text" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd'})" />
                            <input type="button" ng-click="timefilFun()" style="margin-left: -5px;"
                                value="{{'100302' | translate}}">
                            
                        </div>
                        <!-- <select class="form-control top-search-sel" style="float: left;width:120px;margin-top:20px;margin-bottom:10px;" ng-model="withdrawalType" ng-change="withdrawalTypeChange()">
                            <option value="3">选择提现类型</option>
                            <option value="13">COD钱包提现</option>
                            <option value="2">CJ钱包提现</option>
                        </select> -->
                    </div>
                    <div class="search-box-wrap">
                        <div class="input-group search-box" style="display: flex; align-items: center;">
                            <!-- <select class="form-control top-search-sel" ng-model="topSearchKey">
						                    <option value="SKU">SKU</option>
						                    <option value="CH">中文</option>
						                    <option value="EN">英文</option>
						                  </select> -->
                            <span ng-show="withdrawalType == 2 || withdrawalType == 13">销售员</span><input type="text" ng-show="withdrawalType == 2 || withdrawalType == 13" class="form-control top-search-inp" placeholder="" ng-model="salesName">&nbsp;&nbsp;
                            <span>用户名</span><input type="text" class="form-control top-search-inp" placeholder="" ng-model="userName">
                            <a role="button" class="btn btn-default top-search-btn" type="button"
                                ng-click="usersearch()">{{'100025' | translate}}</a>
                        </div>
                    </div>
                </div>
                <!-- right list -->
                <div class="table-con-box">
                    <table class="ea-list-table ea-erp-cs" id="ea-list-table">
                        <tr>
                            <!-- <th><span>序号</span></th> -->
                            <th><span>{{'100225' | translate}}</span></th>
                            <th><span>{{'100304' | translate}}</span></th>
                            <!-- <th><span>客户名称</span></th> -->
                            <!-- <th><span>客户ID</span></th> -->
                            <th><span>{{'100328' | translate}}</span></th>
                            <!-- <th>提现类型</th> -->
                            <th>来源平台</th>
                            <th ng-show="cashStatus === '2'">拒绝原因</th>
                            <!-- <th><span>提现方式</span></th> -->
                            <th><span>{{'100329' | translate}}</span></th>
                            <th><span>参考{{'100329' | translate}}</span></th>
                            <th><span>销售人</span></th>
                            <th><span>{{'100340' | translate}}</span></th>
                            <th><span>{{'100043' | translate}}</span></th>
                        </tr>
                        <tr ng-repeat="item in cashList">
                            <!-- <td><span>1</span></td> -->
                            <td><span>{{item.createDate.time | date:"yyyy-MM-dd HH:mm:ss"}}</span></td>
                            <!-- <td><span>{{item.paymentName}}</span></td> -->
                            <td class="cus-lvtd">
                                <span>
                                    <p>{{item.paymentName}}</p>
                                </span>
                                <b ng-if="item.userLevel==3" class="yzkehu-flag">优</b>
                                <b ng-if="item.userLevel==2" class="ptkehu-flag">普</b>
                                <b ng-if="item.userLevel==1" class="qzkehu-flag">潜</b>
                                <img src="static/image/public-img/order.png">
                                <b class="cus-dengji">LV{{item.cunLevel}}</b>
                                <img src="static/image/public-img/money.png">
                                <b class="cus-dengji">LV{{item.moneyLevel}}</b>
                            </td>
                            <!-- <td><span>112233333</span></td> -->
                            <td><span>${{item.copeMoney}}</span></td>
                            <!-- <td><span>{{withdrawalTypeObj[item.type] || '--'}}</span></td> -->
                            <td><span>{{item.paymentType}}</span></td>
                            <td ng-show="cashStatus === '2'"><span>{{item.errorInfo || '-'}}</span></td>
                            <!-- <td><span>兴业银行</span></td> -->
                            <td><span>{{item.email}}</span></td>
                            <td><span>{{item.account}}</span></td>
                            <td><span>{{item.salesName}}</span></td>
                            <td><span>{{item.message}}</span></td>
                            <td class="relative"><span>
                                    <!-- <button type="button" class="ea-to-refuse" value="">查看</button> -->
                                    <button type="button" class="ea-to-impl" value=""
                                        ng-click="confirmCash(item, $index)"
                                        ng-if="cashStatus=='0'">{{'100330' | translate}}</button>
                                    <button type="button" class="ea-to-refuse" value=""
                                        ng-click="refuseCash(item, $index)"
                                        ng-if="cashStatus=='0'">{{'100128' | translate}}</button>
                                    <button type="button" class="ea-to-impl" value=""
                                            ng-click="messageFun(item, $index)"
                                            ng-if="cashStatus=='0'">{{'100340' | translate}}</button>
                                    <button type="button" ng-click="check(item, $index)">查看</button>
                                    <!-- <dl id="show-img" class="left-num">
										<img src="https://img.alicdn.com/imgextra/i2/61908958/TB2vcMcb80kpuFjy1zdXXXuUVXa_!!61908958.jpg">
										<closeimg>关闭</closeimg>
									</dl> -->
                                    <!-- <section id="show-img">
										<h3>拒绝理由</h3>
										<textarea></textarea>
									<closetext class="btn-cancel">取消</closetext><closetextt class="btn-determine">确定</closetextt>
									</section> -->
                            </td>
                        </tr>
                    </table>
                    <div ng-show="totalNum<1" style="text-align: center;">暂无数据</div>
                    <!-- 分页 -->
                    <div class="page-box" ng-show="totalNum>0">
                        <div class="select-page-num">
                            <select class="form-control" ng-model="pageSize" ng-change="getPageSize()">
                                <option value="20">20</option>
                                <option value="30">30</option>
                                <option value="50">50</option>
                            </select>
                            <span>每页</span>
                        </div>
                        <div class="total-num">
                            共&nbsp;&nbsp;{{ totalNum }}&nbsp;&nbsp;条
                        </div>
                        <div class="page-index">
                            <div class="pagination1">
                            </div>
                        </div>
                        <div class="to-go">
                            <span>跳转：</span>
                            <input type="text" class="form-control" placeholder="" ng-model="pageNum">
                            <a class="btn btn-default" href="javascript: void(0);" role="button"
                                ng-click="getSpecifiedPage()">go</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- </div> -->
        <!-- </div> -->
    </div>
    <!-- 选取两段时间之间插件 -->
    <!--<script type="text/javascript" src="../js/jquery.min.js" ></script>-->
    <!--<script type="text/javascript" src="../js/lyz.calendar.min.js"></script>-->
    <!-- 弹框js -->
    <!-- 询问是否核对完成的弹框 -->
    <div ng-show="confirmCashFlag"
        style="background: rgba(0,0,0,0.5);position: fixed;width: 100%;height: 100%;z-index: 999;left: 0;top: 0;"
        class="isequalTc-wrap">
        <div class="isequalTc-con">
            <p>{{'100331' | translate}}<span>{{opeItem.paymentName}}</span>{{'100332' | translate}}<span>${{opeItem.copeMoney}}</span>，{{'100345' | translate}}{{opeItem.moneyAfterDeduct}}?
            </p>
            <div style="margin-top: 15px; font-size: 12px;">
                {{'100333' | translate}}：<input style="border: none; display: inline-block;" type="file" id="document2"
                    onchange="angular.element(this).scope().upLoadImg4(this.files)">
            </div>
            <div style="margin-top: 5px; margin-left: 30px; text-align: left;">
                <span ng-repeat="img in imgArr"
                    style="position: relative; display: inline-block; width: 50px; height: 50px; border: 1px solid #ccc;">
                    <a href="{{'https://'+img}}" target="_blank"><img style="max-width: 50px; max-height: 50px;"
                            src="{{'https://'+img}}" alt=""></a>
                    <b ng-click="removeOnePic($index)"
                        style="position: absolute; top: -8px; right: -8px; background: #9c9c9c; color: #fff; font-weight: normal; width: 16px; height: 16px; line-height: 16px; text-align: center; border-radius: 8px; cursor: pointer;">x</b>
                </span>
            </div>
            <div class="isequalTc-btns">
                <button ng-click="cancelConfirmCash()" class="isequalTc-cancelbtn">{{'100051' | translate}}</button>
                <button ng-click="goConfirmCash()" class="isequalTc-confirmbtn">{{'100050' | translate}}</button>
            </div>
        </div>
    </div>
    <!-- 拒绝的弹框 -->
    <!-- <div ng-show="jjFlag" style="background: rgba(0,0,0,0.5);position: fixed;width: 100%;height: 100%;z-index: 999;left: 0;top: 0;" class="isequalTc-wrap">
            <div class="jjTc-con">
                <p>是否与客户沟通过本次转账无效?请谨慎操作!</p>
                <div class="jjTc-btns">
                    <button ng-click="canceljjFun()" class="jjTc-cancelbtn">取消</button>
                    <button ng-click="confirmjjFun()" class="jjTc-confirmbtn">确定</button>
                </div>
            </div>
        </div> -->
    <!-- 收款异常 -->
    <div ng-show="refuseCashFlag"
        style="background: rgba(0,0,0,0.5);position: fixed;width: 100%;height: 100%;z-index: 999;left: 0;top: 0;"
        class="isequalTc-wrap">
        <div class="jjTc-con">
            <!-- <p>是否与客户沟通过本次转账无效?请谨慎操作!</p> -->
            <!-- <button class="wskx-btn">未收到款项</button>
            <button ng-click="jeqsBtnFun()" class="jeqs-btn">金额缺少</button> -->
            <div style="margin-top: 20px;">
                <span style="display: block; text-align: left; margin-left: 50px;"
                    style="font-size: 14px;">{{'100334' | translate}}：</span>
                <textarea style="width: 260px; border: 1px solid #ccc;" ng-model="refuseReason"></textarea>
                <!-- <select style="font-size: 14px; width: 150px; height: 30px;" ng-model="errorInfo">
                    <option value="not received yet">未收到款项</option>
                </select> -->
            </div>
            <div class="isequalTc-btns">
                <button ng-click="canRefuseCash()" class="isequalTc-cancelbtn">{{'100051' | translate}}</button>
                <button ng-click="goRefuseCash()" class="isequalTc-confirmbtn">{{'100050' | translate}}</button>
            </div>
        </div>
    </div>
    <div class="confirm-box f-center" ng-show="messageObj.show">
        <div class="confirm-main">
          <div class="confirm-title">
            {{'100031' | translate}}
          </div>
          <div class="confirm-content">
              <textarea class="confirm-content-message" ng-model="messageObj.val"></textarea>
          </div>
          <div class="confirm-btn-box">
            <span ng-click="messageObj.show=false" class="no-btn">{{'100051' | translate}}</span>
            <span ng-click="submitMessageFun()" class="yes-btn">{{'101275' | translate}}</span>
          </div>
        </div>
      </div>

</body>

</html>