<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>视频订单</title>
</head>
<style>
  .clearfix:after {
    content: "";
    display: block;
    clear: both;
  }

  .guanlianshangpin-wrap .clos {
    background-color: orange;
    color: #fff;
    padding: 4px 10px;
    position: absolute;
    right: 8px;
    top: 8px;
    border-radius: 3px;
    font-size: 12px;
    cursor: pointer;
  }

  body .guanlianshangpin {
    width: 700px;
    height: 500px;
  }

  .guanlianshangpin ul {
    padding: 40px 20px 10px 20px;
    font-size: 14px;
    line-height: 30px;
    overflow-y: auto;
    height: 475px;
  }

  .guanlianshangpin ul li span {
    float: left;
  }

  .guanlianshangpin ul li span:nth-child(2) {
    color: #999;
    word-wrap: break-word;
    width: 470px;
  }

  .table-con-box tr button {
    /*background-color: orange;*/
    font-size: 12px;
    color: #fff;
    padding: 3px 8px;
    margin: 0;
  }

  .selectActive {
    background: #e8f4ff;
  }

  .overTR:hover {
    background: #e8f4ff;
  }

  .ea-list-table th {
    font-size: 14px;
    /*border-right: none;*/
  }

  .ea-list-table td {
    font-size: 14px;
    /*border-right: none;*/
    max-width: 200px;
  }

  .ea-list-table td span {
    cursor: pointer;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    margin: initial;
    text-align: center;
    display: block;
  }

  .setprice label {
    margin-right: 10px;
  }

  .setprice input {
    height: 28px;
    line-height: 28px;
    padding: 0 8px;
  }

  .setprice button {
    width: 60px;
    height: 28px;
    line-height: 28px;
    border-radius: 3px;
    color: #fff;
    background: #08aceb;
  }

  .h6 {
    height: 61px;
  }

  .table-con-box tr button {
    cursor: pointer;
    border-radius: 3px;
  }

  .tan-delete-ware {
    border-radius: 4px;
    min-height: 120px;
    height: initial;
  }

  .asj-common-tan h3 {
    font-size: 14px;
    font-family: PingFangSC-Medium;
    color: rgba(102, 102, 102, 1);
    line-height: 20px;
    margin: 20px 0;
    text-align: left;
  }

  .asj-common-tan .tan-btns {
    text-align: right;
    overflow: hidden;
  }

  .asj-common-tan .tan-btns .tan-btn1 {
    width: 80px;
    height: 30px;
    background: rgba(249, 174, 8, 1);
    border-radius: 2px;
    color: #fff;
    margin: initial;
  }

  .asj-common-tan .tan-btns .tan-btn0 {
    width: 80px;
    height: 30px;
    border-radius: 2px;
    border: 1px solid rgba(247, 157, 45, 1);
    margin: 0 20px;
    color: #F9AE08;
    background-color: #fff;
  }

  .upload-warp-box .asj-common-tan{
		width: 374px;
	}
	.upload-warp-box .item-box{
		margin-bottom: 20px;
		display: flex;
		align-items: center;
		font-size: 14px;
		text-align: right;
	}
  .upload-warp-box .item-box .title{
	  width: 100px;
  }
  .upload-warp-box .item-box select,input{
	  width: 210px;
	  height: 40px;
	  border-radius:4px;
	  border:1px solid rgba(217,217,217,1);
	  position: relative;
	  padding: 0 20px 0 10px;
  }
  .upload-warp-box .item-box i{
	  position: absolute;
	  right: 60px;
  }
  .upload-warp-box .upload-list{
	  display: flex;
	  flex-wrap: wrap;
    overflow: hidden;
  }
  .upload-warp-box .upload-list .item{
	  width:70px;
	  height:70px;
	  border-radius:3px;
	  border:1px solid rgba(0,0,0,0.15);
	  margin: 0 10px 10px 0;
	  display: flex;
	  align-items: center;
	  justify-content: center;
	  position: relative;
  }
  .upload-warp-box .upload-list .item:nth-child(5n){
	  margin-right: 0;
  }
  .upload-warp-box .upload-list .item i{
	  position: absolute;
	  background: url("static/image/video/close.svg") no-repeat center;
	  width: 16px;
	  height: 16px;
	  cursor: pointer;
	  right: -8px;
	  top: -8px;
  }
  .upload-warp-box .upload-list .img{
	  width: 100%;
	  height: 100%;
	  padding: 5px;
  }
  .upload-warp-box .upload-list .add-upload{
	  background:rgba(0,0,0,0.02);
	  cursor: pointer;
  }
  .upload-warp-box .asj-common-tan{
	  padding: 0;
  }
  .upload-warp-box .tan-title{
    line-height: 60px;
    border-bottom:1px solid rgba(240,240,240,1);
	  margin-bottom: initial;
  }
	.upload-warp-box .content-box{
		max-height: 400px;
		overflow-y: auto;
		padding: 20px 32px 10px 32px;
	}
	.upload-warp-box .tan-btns{
		border-top:1px solid rgba(240,240,240,1);
		padding: 0 25px;
		height: 70px;
		line-height: 70px;
	}

  .search-box {
    width: initial;
  }

  .search-box select {
    height: 30px;
    padding: 0 10px;
    border-radius: 3px;
  }

  .col {
    border: 2px solid green !important;
  }

  .prism-player .prism-big-play-btn {
    width: 32px;
    height: 32px;
    left: calc(50% - 16px) !important;
    bottom: calc(50% - 16px) !important;
  }

  .prism-player .prism-big-play-btn .outter {
    width: 32px;
    height: 32px;
  }

  .prism-player .prism-time-display .current-time {
    display: inline !important;
  }

  .prism-player .prism-cover {
    background-repeat: no-repeat;
    background-size: cover;
  }


  #uploadVideoBtn {
    display: inline-block;
    width: 80px;
    height: 30px;
    background: #fff;
    font-size: 12px;
    border: 1px solid #e1e1e1;
    border-radius: 4px;
    text-align: center;
    line-height: 29px;
    cursor: pointer;
  }
</style>

<body>
  <div class="ea-content">
    <div class="right-bar-wrap ea-right-content">
      <div class="asj-h10"></div>
      <div class="right-bar">
        <div class="ea-right-search">
          <div class="input-group search-box">
            <div class="input-group search-box">
              <input ng-keyup="enterSearch($event)" type="text" class="form-control top-search-inp" placeholder="请按订单号查询" ng-model="title">
              <a role="button" class="btn btn-default top-search-btn" type="button" ng-click="usersearch()">搜索</a>
              <!--    <label style="margin-left: 15px;">
                                <span class="ng-binding">状态：</span>
                                <select class="select-search-stu" ng-model="sourcestatus"
                                        ng-change="sourcechange(sourcestatus)">
                                    <option value="">所有状态</option>
                                    <option value="14">需审核</option>
                                    <option value="15">已拒绝</option>
                                    <option value="16">已报价</option>
                                    <option value="17">拍摄中</option>
                                    <option value="18">已完成</option>
                                </select>
                                <span class="ng-binding">视频来源：</span>
                                <select class="select-search-stu" ng-model="types"
                                        ng-change="sourcechange(types)">
                                    <option value="">所有类型</option>
                                    <option value="2">平台商品拍摄</option>
                                    <option value="1">独有商品拍摄</option>
                                    <option value="0">店铺商品拍摄</option>
                                </select>
                            </label>-->
            </div>
          </div>
        </div>
        <div class="table-con-box">
          <table class="ea-list-table ea-erp-cs">
            <thead>
              <tr>
                <th>日期/订单号</th>
                <th>视频商品</th>
                <th>客户ID</th>
                <th>视频价格</th>
                <th>实付价格</th>
                <!--<th>业务员</th>-->
                <!--<th>状态</th>-->
                <th>类型</th>
                <th>客户描述</th>
                <th>状态</th>
                <th>操作</th>

              </tr>
            </thead>
            <tbody ng-click="TrClick($index)">
              <tr ng-repeat="item in proList" ng-class='{selectActive: $index == focus,"overTR":isoverTR}' repeat-finish="repeatFinish" on-finish-render-filters>
                <td>
                  <span>{{item.createDate}}</span>
                  <span>{{item.id}}</span>
                </td>
                <td style="text-align: left; width: 410px;">
                  <table class="pro-info" width="100%">
                    <tr>
                      <td class="li-img" style="border: none;text-align: left;width:20%;margin-right: 10px;">
                        <img width="240" height="136" ng-src="{{item.locProduct.img.split(',')[0]}}" alt="" ng-show="!(item.watermarkViewUrl || item.businessVideoId)">
                        <!-- <video id="my-video"
                                               ng-show="item.watermarkViewUrl"
                                               src="https://cc-west-usa.oss-us-west-1.aliyuncs.com/15306336/338209605760.mp4"
                                               class="video-js zzz" controls preload="auto" width="240"
                                               height="136" data-setup="{techOrder: ['flash','html5']}">
                                            <source class="vvv"
                                                    src="https://cc-west-usa.oss-us-west-1.aliyuncs.com/15306336/338209605760.mp4"
                                                    data-index="{{$index}}"
                                                    data-url="{{videosrc(item.watermarkViewUrl)}}"
                                                    type="video/mp4">
                                        </video> -->
                        <div ng-show="item.businessVideoId || item.watermarkViewUrl" class="prism-player" id="{{'J_prismPlayer'+($index+1)}}"></div>
                      </td>
                      <td class="li-pro-name" style="width: 10%;border: none;">
                        <div class="merch-name">{{item.locProduct.nameen}}</div>
                        <div class="merch-name" style="color: #7b7b7b;font-size: 12px;line-height: 18px;margin-top: 3px;">
                          {{item.locProduct.sku}}
                        </div>
                      </td>
                    </tr>
                  </table>
                </td>
                <td class="cus-lvtd">
                  <span>{{item.downloadUserName}}</span>
                  <b ng-if="item.userLevel==3" class="yzkehu-flag">优</b>
                  <b ng-if="item.userLevel==2" class="ptkehu-flag">普</b>
                  <b ng-if="item.userLevel==1" class="qzkehu-flag">潜</b>
                  <img src="static/image/public-img/order.png">
                  <b class="cus-dengji">LV{{item.cunLevel}}</b>
                  <img src="static/image/public-img/money.png">
                  <b class="cus-dengji">LV{{item.moneyLevel}}</b>
                </td>
                <td><span>{{item.businessVideoPrice}}</span></td>
                <td><span>{{item.videoPracticalPrice}}</span></td>
                <!--<td><span>{{item.number || '&#45;&#45;'}}</span></td>-->
                <td>
                  <span ng-show="item.videoType == 1">Unlimited Using</span>
                  <span ng-show="item.videoType == 2">Using in three websites</span>
                </td>
                <td>
                  <span>{{item.description}}</span>
                </td>
                <td>
                  <span ng-if="item.expectResult==1&&item.disputeId==1">退款</span>
                  <span ng-if="item.expectResult==2&&item.disputeId==1">补发</span>
                  <span ng-if="item.expectResult==3&&item.disputeId==1">重拍</span>
                  <span ng-if="item.disputeId==1">纠纷进行中</span>
                  <span ng-if="item.disputeId!=1">-</span>
                </td>
                <td>
                  <Button ng-click="handleUpdate(item)" ng-if="item.expectResult==3&&item.disputeId==1&&item.mediaType==0">重新上传视频</Button>
                  <Button ng-click="handleUploadImg(item)" ng-if="item.expectResult==3&&item.disputeId==1&&item.mediaType==1">重新上传图片</Button>
                  <!-- <Button ng-click="handleUploadImg(item)">重新上传图片</Button> -->
                </td>
              </tr>
            </tbody>
          </table>
          <!-- 分页 -->
          <div class="no-data" ng-show="totalNum == 0" style="text-align: center;">没有数据</div>
          <div class="page-box" ng-show="totalNum > 0">
            <div class="select-page-num">
              <select class="form-control" ng-model="pagesize" ng-change="pagechange(pagesize)" style="width: 65px;height: 31px;">
                <option value="10">10</option>
                <option value="20">20</option>
                <option value="30">30</option>
                <option value="50">50</option>
              </select>
              <span>每页</span>
            </div>
            <div class="total-num">
              共&nbsp;&nbsp;{{ totalNum }}&nbsp;&nbsp;条
            </div>
            <div class="page-index">
              <div class="pagegroup">
                <a href="#">&lt;&lt;</a>
                <a href="#">&lt;</a>
                <a href="#">1</a>
                <a href="#">2</a>
                <a class="current" href="#">3</a>
                <a href="#">4</a>
                <a href="#">5</a>
                <a href="#">6</a>
                <a href="#">···</a>
                <a href="#">&gt;</a>
                <a href="#">&gt;&gt;</a>
              </div>
            </div>
            <div class="to-go">
              <span>跳转：</span>
              <input type="text" class="goyema form-control" placeholder="" ng-model="pagenum">
              <a class="btn btn-default" href="javascript: void(0);" role="button" ng-click="pagenumchange()">go</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 上传视频 -->
  <div class="asj-common-tanwrap" ng-show="isvideo">
    <div class="asj-common-tan video-layer">
      <div class="tan-title">重新上传视频</div>
      <p style="font-size: 14px;">
        <p>视频名称:&nbsp;{{chooseVideoOrder.locProduct.nameen}}</p>
        <p>视频价格($):&nbsp;{{chooseVideoOrder.businessVideoPrice}}</p>
        <p>实付价格($):&nbsp;{{chooseVideoOrder.videoPracticalPrice}}</p>
        <br>
        <span ng-click="handleUpdateVideo()" id="uploadVideoBtn">上传视频</span>
        <button class="addvideo" ng-click="uplodvideo2()">添加</button>
      </p>
      <div class="tan-btns">
        <a class="tan-btn0" ng-click="isvideo = false;">关闭</a>
      </div>
    </div>
  </div>


  <!-- 上传图片 -->
  <div class="asj-common-tanwrap upload-warp-box" ng-show="isUploadImg">
    <div class="asj-common-tan" style="height: 600px;">
      <div class="tan-title">重新上传图片</div>
      <div class="content-box">
        <div class="upload-list">
          <input 
            style="display: none;" 
            type="file" 
            accept="image/*" 
            id="uploadImg"
            onchange="angular.element(this).scope().upLoadImgChange(this.files)"
          >
          <div class="item add-upload" ng-click="onUploadImg()">
            <img src="static/image/video/img.svg" alt="">
          </div>
          <div class="item" ng-repeat="item in imgData">
            <i ng-click="handleRemove(item)"></i>
            <img class="img" ng-src="{{item}}" alt="">
          </div>
        </div>
      </div>
      <div class="tan-btns">
        <a class="tan-btn0" ng-click="isUploadImg = false;">关闭</a>
        <a class="tan-btn1" ng-click="handleConfirmImg()">确定</a>
      </div>
    </div>
  </div>


</body>

</html>