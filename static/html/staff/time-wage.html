<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>临时工</title>
    <style type="text/css">
        .fun-div{
            padding: 0 10px;
            height: 30px;
        }
        .fun-div .sku-inp{
            width: 230px;
            height: 30px;
            text-indent: 12px;
            vertical-align: top;
        }
        .fun-div .skusea-btn{
            height: 30px;
            padding: 0 10px;
            background-color: #fff;
            border: 1px solid #E0E0E0;
            vertical-align: top;
            border-left: none;
            margin-right: 50px;
        }
        .fun-div .skusea-btn:hover{
            color: #f99429;
        }
        .ea-list-table td span{
            font-size: 12px;
        }
        .ea-list-table td p{
            font-size: 12px;
        }
        .pici-btn{
            height: 30px;
            padding: 0 15px;
            background-color: #87CEFA;
            color: #fff;
            vertical-align: top;
        }
        .lightseagreen{
            background-color: lightseagreen;
        }
        .second-tr{
            display: none;
        }
        .fun-div .data-inp{
            width: 133px;
            height: 30px;
            padding: 0;
            border: solid #e1e1e1 1px;
            vertical-align: top;
        }
        .fun-div .drk-seachInp{
            background-color: #fff;
            height: 30px;
            padding: 0 10px;
            vertical-align: top;
            border-left: none;
        }
        .fun-div .drk-seachInp:hover{
            color: #f99429;
        }
        .active-color{
            color: #08ACE9;
            cursor: pointer;
        }
        .time-span{
            margin-right: 20px;
            display: inline-block;
            margin-top: 5px;
            cursor: pointer;
        }
        .last-timespan{
            margin-right: 50px;
        }
        .ord-list{
            color: #08ACE9;
            text-decoration: underline;
            cursor: pointer;
        }
        .ordnum-con{
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
            background-color: #fff;
            border-radius: 4px;
            width: 400px;
            padding: 20px;
            border: 1px solid #EEEEEE;
            box-shadow:0px 12px 24px 0px rgba(0,0,0,0.1);
        }
        .error-close{
            position: absolute;
            top: -11px;
            right: -11px;
            cursor: pointer;
        }
        .ordnum-con p{
            text-align: center;
            color: #e55264;
            margin-bottom: 10px;
        }
        .ordncon-list{
            height: 400px;
            overflow-y: auto;
        }
        .ordncon-list li{
            height: 30px;
            text-align: center;
        }

        .add-lsg-con{
            width: 450px;
            height: 280px;
            position: fixed;
            left: 50%;
            top: 50%;
            transform:translate(-50%,-50%);
            padding: 20px 20px 0;
            background-color: #fff;
            border-radius: 4px;
            border: 1px solid #ececec;
            box-shadow: 0 5px 24px rgba(0,0,0,0.1);
        }
        .add-lsg-con li{
            margin: 10px 0;
        }
        .add-lsg-con .add-gys-label{
            display: inline-block;
            width: 97px;
            text-align: right;
        }
        .add-lsg-con .add-gys-inp{
            width: 290px;
            height: 30px;
        }
        .add-lsg-con .td-star{
            display: inline-block;
            vertical-align: top;
        }
        .add-lsg-con .sel-leimu{
            height: 30px;
            width: 290px;
        }
        .gys-tk-btns{
            text-align: center;
            margin-top: 20px;
        }
        .gys-tk-btns button{
            height: 30px;
            padding: 0 15px;
            background-color: #fff;
            border-radius: 4px;
        }
        .gys-tk-btns .ispc-can-btn{
            color: #6b6b6b;
            border: 1px solid #cfcfcf;
            background-color: #f6f6f6;
            margin-right: 15px;
        }
        .gys-tk-btns .ispc-con-btn{
            color: #fff;
            height: 30px;
            border-radius: 4px;
            background-color: #ff8d31;
        }
        .lrlsg-btn{
            height: 30px;
            padding: 0 10px;
            margin-left: 10px;
            border: 1px solid #5dbdf2;
            color: #5dbdf2;
            border-radius: 4px;
            background-color: #fff;
            float: right;
        }
        .lrlsg-btn:hover{
            background-color: #5dbdf2;
            color: #fff;
        }
        .lsggz-val{
            margin-left: 10px;
        }
        .del-lsgBtn{
            height: 30px;
            display: inline-block;
        }
        .del-lsgBtn:hover{
            background-color: #5dbdf2;
            color: #fff;
        }
        .check-box{
            margin: 0 5px;
            float: none;
            width: 16px;
        }
        .right-bar{
            margin-top: 10px;
        }
        .edit-box .edit-btn{
            color: #5dbdf2;
            cursor: pointer;
        }
        .edit-box .edit-input{
            padding: 0 3px;
            height: 22px;
            width: 60px;
            margin: 0 auto;
            display: block;
            text-align: center;
            font-size: 14px;
        }
        .edit-cancel,.edit-confirm{
            cursor: pointer;
        }
        .edit-confirm{
            color: #5dbdf2;
        }
        .img-wrap{
            position: fixed;
            top:0;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100vh;
            width: 100vw;
            background: rgba(0,0,0,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .img-content{
            background: #fff;
            padding: 20px;
            border-radius: 5px;
            position: relative;
        }
        .img-close{
            position: absolute;
            right: -20px;
            top: -20px;
            font-size: 40px;
            color: #666;
            font-family: 'iconfont';
            background: #fff;
            line-height: 1;
            border-radius: 50%;
            cursor: pointer;
        }
        .img-close::after{
            content: '\e628';
        }
        .ui-select{
            height: 30px;
            border-radius: 4px;
        }
        .img-title {
            font-size: 30px;
            padding: 0px 0 20px;
            text-align: center;
            color: #5dbdf2;
            font-weight: bold;
        }
    </style>
</head>

<body>
    <div class="ea-content">
        <div class="left-bar">
            <ul>
                <li class="active"><a href="#/erppurchase/needbuy">{{'100549' | translate}}</a></li>
                <li><a href="#/supplier-manage">{{'100550' | translate}}</a></li>
            </ul>
        </div>
        <!-- right con -->
        <div class="right-bar-wrap ea-right-content li_ea-right-content">
            <!-- right nav -->
            <div class="right-bar">
            <!-- right list -->
            <div class="fun-div">
                <input class="sku-inp" placeholder="请输入名字/编号" ng-model="searchDdh"></input><button class="skusea-btn" ng-click="searchFun()">{{'100025' | translate}}</button>
                <input class="Wdate data-inp" id="left-time" type="text" ng-model="startDate" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',onpicked: function(){$(this).trigger('change')}})" placeholder="开始时间"/>
                <input class="Wdate data-inp" id="right-time" type="text" ng-model="endDate" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',onpicked: function(){$(this).trigger('change')}})" placeholder="结束时间"/>
                <input ng-click="timeSFun()" class="drk-seachInp" type="button" value="{{'100025' | translate}}"></input>
                <select class="ui-select" ng-change="searchFun()" ng-model="status">
                    <option value="0">上班</option>
                    <option value="1">下班</option>
                    <option value="2">待支付</option>
                    <option value="3">已支付</option>
                </select>
            </div>
            <div class="fun-div">
                <button ng-click="payingFun()" class="lrlsg-btn">提交到财务</button>
                <button ng-click="paidFun()" class="lrlsg-btn">已支付</button>
                <!-- <button ng-click="deleteFun()" class="lrlsg-btn">批量删除</button> -->
            </div>
            <div class="table-con-box" id="c-zi-ord">
                <table class="ea-list-table ea-erp-cs" id="ea-list-table">
                    <tr>
                        <th>
                            <div class="check-box">
                                <input type="checkbox" ng-model="checkAllFlag" ng-change="checkAllFun()">
                                <label for=""></label>
                            </div>
                        </th>
                        <th><span>编号</span></th>
                        <th><span>名字</span></th>
                        <th><span>上班时间</span></th>
                        <th><span>下班时间</span></th>
                        <th><span>时长</span></th>
                        <th><span>状态</span></th>
                        <th><span>付款类型</span></th>
                        <!-- <th><span>备注</span></th> -->
                        <th><span>时薪</span></th>
                        <th><span>工资</span></th>
                        <!-- <th><span>修改记录</span></th> -->
                        <th ng-if="adminFlag"><span>操作</span></th>
                    </tr>
                <tbody>
                    <tr class="la_tr la_tr01" ng-repeat="item in listArr">
                        <td>
                            <div class="check-box">
                                <input type="checkbox" ng-model="item.check" ng-change="checkFun()">
                                <label for=""></label>
                            </div>
                        </td>
                        <td>
                            <span>
                                {{item.lingShiGongId}}
                            </span>
                            <p ng-show="item.status==2">
                                <span class="active-color" ng-click="getQrCode(item)">获取二维码</span>
                            </p>
                        </td>
                        <td>
                            <span>
                                {{item.name}}
                            </span>
                        </td>
                        <td>
                            <p>
                                上班：<span>{{ item.shangBan | date:'yyyy-MM-dd HH:mm:ss'}}</span>
                            </p>
                            <p>
                                上班计算：<span>{{ item.shangBanJiSuan | date:'yyyy-MM-dd HH:mm:ss'}}</span>
                            </p>
                        </td>
                        <td>
                            
                            <p>
                                下班：<span ng-show="item.xiaBan">{{ item.xiaBan | date:'yyyy-MM-dd HH:mm:ss'}}</span>
                            </p>
                            <p>
                                下班计算：<span ng-show="item.xiaBanJiSuan">{{ item.xiaBanJiSuan | date:'yyyy-MM-dd HH:mm:ss'}}</span>
                            </p>
                        </td>
                        <td>
                            <span ng-if="item.xiaBan">{{(item.xiaBanJiSuan-item.shangBanJiSuan)/3600000 | number:1}}</span>
                        </td>
                        <td>
                            <span style="color: #04a452;" ng-if="item.status=='0'">上班</span>
                            <span style="color: #e55264;" ng-if="item.status=='1'">下班</span>
                            <span style="color: #08aceb;" ng-if="item.status=='2'">已提交</span>
                            <span style="color: #f1ca16;" ng-if="item.status=='3'">已支付</span>
                        </td>
                        <td>
                            <span ng-if="item.leiXing=='0'">支付宝</span>
                            <span ng-if="item.leiXing=='1'">微信</span>
                            <span ng-if="item.leiXing=='2'">银行卡</span>
                            <span ng-if="item.leiXing=='2'&&(item.yinHangMing||item.zhiHangMing)">
                                银行: {{item.yinHangMing}} {{item.zhiHangMing}}
                            </span>
                            <span ng-if="item.leiXing=='3'">二维码</span>
                        </td>
                        <!-- <td>
                            <span ng-if="adminFlag">{{item.beiZhu}}</span>
                        </td> -->
                        <td>
                            <span ng-if="adminFlag && !item.isEditHour">{{item.jine}}</span>
                            <div class="edit-box" ng-if="adminFlag">
                                <span class="edit-btn" ng-show="!item.isEditHour" ng-click="item.isEditHour=true">编辑</span>
                                <ng-template ng-show="item.isEditHour">
                                    <input class="edit-input" type="text" ng-model="item.jineNew">
                                    <span class="edit-cancel" ng-click="item.isEditHour=false">取消</span>
                                    <span class="edit-confirm" ng-click="hourlyPay(item)">确定</span>
                                </ng-template>
                            </div>
                            <span ng-if="!adminFlag">0</span>
                        </td>
                        <td>
                            <span ng-if="adminFlag && !item.isEdit">{{item.gongZi}}</span>
                            <div class="edit-box" ng-if="adminFlag">
                                <span class="edit-btn" ng-show="!item.isEdit" ng-click="item.isEdit=true">编辑</span>
                                <ng-template ng-show="item.isEdit">
                                    <input class="edit-input" type="text" ng-model="item.gongZiNew">
                                    <span class="edit-cancel" ng-click="item.isEdit=false">取消</span>
                                    <span class="edit-confirm" ng-click="wageFun(item)">确定</span>
                                </ng-template>
                            </div>
                            <span ng-if="!adminFlag">0</span>
                        </td>
                        <!-- <td>
                            <span>{{item.gongZi+item.gongShi}}</span>
                        </td> -->
                        <td ng-if="adminFlag">
                            <button ng-click="payingFun(item)" ng-show="item.status==0||item.status==1" class="del-lsgBtn">提交到财务</button>
                            <!-- <button ng-click="deleteFun(item)"  class="del-lsgBtn">删除</button> -->
                            <button ng-click="paidOne(item)" ng-show="item.status!=3" class="del-lsgBtn">已支付</button>
                        </td>
                    </tr>
                </tbody>
                </table>
                <div style="text-align: center;" ng-cloak ng-show="listArr.length<1">暂无数据</div>
                <!--以下是分页-->
                <page page-data="pageData"></page>
            </div>
          </div>
        </div>
    </div>
    <div class="img-wrap" ng-show="qrCode.show">
        <div class="img-content">
            <span class="img-close" ng-click="qrCode.show=false"></span>
            <p class="img-title">{{qrCode.title}}</p>
            <div id="qrCodeImg"></div>
        </div>
        
    </div>
</body>

</html>
