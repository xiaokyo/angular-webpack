<!DOCTYPE html>
<html lang="en" xmlns="">

  <head>
    <meta charset="UTF-8" />
    <title>活动统计</title>
    <link rel="stylesheet" type="text/css" href="static/css/SalesmanManagement.css" />
    <style>
      body {
        background-color: #f2f7fa;
        padding: 0 20px;
      }
      .box{
        background-color: #fff;
        margin-left: 220px;
        margin-bottom: 20px;
        position: relative;
      }
      .box h4{
        font-size: 16px;
        padding:15px 24px;
        border-bottom: 1px solid #E9E9E9;
      }
      .box h4 a{
        float: right;
        color:#26AAFD;
        font-size: 14px;
      }
      table {
        width: 100%;
        text-align: center;
      }

      table thead {
        height: 44px;
        background: rgba(252, 244, 217, 1);
        border-radius: 4px 4px 0px 0px;
        line-height: 44px;
      }

      table thead th {
        text-align: center;
        font-size: 14px;
        font-family: PingFangSC-Medium;
        font-weight: 500;
        color: rgba(139, 87, 42, 1);
      }

      table thead th .sort {
        display: inline-block;
        position: relative;
        width: 15px;
      }

      table thead th .asc {
        border-width: 0 5px 6px;
        border-style: solid;
        border-color: transparent transparent #666;
        cursor: pointer;
        position: absolute;
        right: 0;
        top: -12px;
      }

      table thead th .desc {
        border-color: #666 transparent transparent transparent;
        border-style: solid;
        border-width: 6px 5px 0 5px;
        height: 0;
        width: 0;
        cursor: pointer;
        position: absolute;
        right: 0;
        bottom: -3px;
      }

      table thead th .asc.active {
        border-color: transparent transparent #f9ae08;
      }

      table thead th .desc.active {
        border-color: #f9ae08 transparent transparent transparent;
      }

      .filter-box {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        padding:20px;
        margin:0;
      }

      .filter-box .item {
        margin-right: 20px;
      }

      .filter-box .item .label {
        font-size: 14px;
        color: #000;
        padding: 0;
      }

      .filter-box .item input {
        line-height: 32px;
        height: 32px;
      }

      .filter-box .item select,
      input {
        line-height: 32px;
        height: 32px;
        width: 210px;
        font-size: 14px;
      }

      .filter-box .item button {
        font-size: 14px;
        background-color: #f9ae08;
        color: #fff;
        border-radius: 4px;
        width:80px;
        height:34px;
      }
      .tips{
        background:rgba(252,244,217,.25);
        padding:15px 34px;
        font-size: 14px;
        line-height: 2;
      }
      .tips h5{
        color:#333;
        font-size: 14px;
        font-weight: bold;
        margin-bottom: 10px;
      }
      .tips p{
        color:#666;
        font-size: 14px;
      }
      .flexbox{
        display: flex;
        justify-content: space-around;
        align-items: center;
        padding:24px;
        flex-wrap:wrap;
      }
      .flexbox .sbox{
        width:24%;
        border:1px solid #EEEEEE;
        padding:14px;
        position: relative;
        color:#fff;
        height:160px;
        border-radius: 4px;
      }
      .sbox h5{
        font-size: 16px;
      }
      .sbox .num{
        font-size: 48px;
        margin: 0 0 15px;
        font-weight: bold;
      }
      .sbox .mot{
        font-size: 16px;
        height:22px;
      }
      .sbox img{
        width:102px;
        height:105px;
        position: absolute;
        right:0;
        top:0;
      }
      .mot span{
        border:1px solid #fff;
        color:#fff;
        width:17px;
        line-height:15px;
        border-radius: 50%;
        font-size: 10px;
        text-align: center;
        float: right;
        cursor: pointer;
        position: relative;
        bottom:-2px;
      }
      .sbox .sm{
        position: absolute;
        color:#fff;
        font-size: 12px;
        background:rgba(0,0,0,0.75) ;
        width:142px;
        height:60px;
        line-height: 20px;
        padding:10px 12px;
        box-sizing: border-box;
        border-radius: 4px;
        right:4px;
        bottom:50px;
        display: none;
      }
      .sbox .sm:after{
        content: '';
        width: 0;
        height: 0;
        border: 5px solid;
        border-color: rgba(0,0,0,0.75) transparent transparent ;
        position: absolute;
        bottom:-10px;
        right:15px
      }
      #container{
        height:500px;
        width:100%;
      }
      #container ul li{
        font-size: 12px;
      }
      .mask{
        width:100%;
        height:100%;
        background: rgba(0,0,0,.5);
        position: fixed;
        left: 0;
        top: 0;
        z-index: 999;
      }
      .target{
        width:454px;
        height:231px;
        background-color: #fff;
        position: absolute;
        top:50%;
        left:50%;
        transform: translate(-50%,-50%);
        border-radius: 4px;
      }
      .target h3{
        text-align: center;
        font-size: 16px;
        color:#333;
        line-height: 60px;
        border-bottom: 1px solid #E9E9E9;
      }
      .options{
        padding:18px 0 18px 30px;
        height:75px;
      }
      .options .check-box{
        width:100px;
        margin: 0 0 20px 0;
      }
      .options .check-box label{
        font-size: 14px;
      }
      .btns{
        text-align: center;
        margin-top: 30px;
        font-size: 0;
      }
      .btns button{
        width:80px;
        height:32px;
        font-size: 14px;
        border-radius: 4px;
      }
      .btns button.cancel{
        color:#666;
        background-color: #fff;
        border:1px solid #C1C1C1;
        margin-right: 18px;
      }
      .btns button.confirm{
        color:#fff;
        background-color: #F9AE08;
      }
      .tabbox{
        width:100%;
        padding:0 20px 30px;
      }
      table tbody{
        border:none;
      }
      table td,table th{
        text-align: center;
        border:none;
      }
      table th{
        background: #FCF4D9;
        color:#8B572A;
        font-size: 14px;
        line-height: 46px;
      }
      .sbox1{
        background:linear-gradient(90deg,rgba(91,143,249,1) 0%,rgba(141,176,248,1) 100%);
        margin-bottom: 15px;
      }
      .sbox2{
        background:linear-gradient(90deg,rgba(90,216,166,1) 0%,rgba(124,211,176,1) 100%);
        margin-bottom: 15px;
      }
      .sbox3{
        background:linear-gradient(90deg,rgba(93,112,146,1) 0%,rgba(116,127,146,1) 100%);
        margin-bottom: 15px;
      }
      .sbox4{
        background:linear-gradient(90deg,rgba(246,189,22,1) 0%,rgba(243,205,94,1) 100%);
        margin-bottom: 15px;
      }
      .sbox5{
        background:linear-gradient(90deg,rgba(232,104,74,1) 0%,rgba(233,134,110,1) 100%);
      }
      .sbox6{
        background:linear-gradient(90deg,rgba(109,200,236,1) 0%,rgba(137,210,239,1) 100%);
      }
      .sbox7{
        background:linear-gradient(90deg,rgba(146,112,202,1) 0%,rgba(172,142,221,1) 100%);
      }
      .sbox8{
        background:linear-gradient(90deg,rgba(255,157,77,1) 0%,rgba(255,171,103,1) 100%);
      }
    </style>
    <!-- <script src="https://cdn.jsdelivr.net/npm/@antv/g2@3.5.7/dist/g2.min.js"></script> -->
    <script src="https://unpkg.com/@antv/g2plot@0.11.34/dist/g2plot.js"></script>
  </head>

  <body>
    <div class="tab">
      <ul class="clearfix">
        <li><a href="#/CommodityAnalysis/Turnover">成交</a></li>
        <li><a href="#/CommodityAnalysis/dispute">纠纷</a></li>
        <li><a href="#/CommodityAnalysis/NewProduct">新品</a></li>
        <li><a href="#/CommodityAnalysis/cusStore">客户店铺</a></li>
        <li><a href="#/CommodityAnalysis/quanzhong">猜你喜欢</a></li>
        <li>
          <a href="#/CommodityAnalysis/LinkageAndpublish">刊登与关联</a>
        </li>
        <li><a href="#/CommodityAnalysis/activityStatistics">活动统计</a></li>
        <li class="Act">
          <a href="#/CommodityAnalysis/activityStatistics-new">新-活动统计</a>
        </li>
      </ul>
    </div>
    <div style="height: 68px;"></div>
    <div class="box">
      <div class="filter-box">       
        <div class="item">
          <span class="label">活动ID：</span>
          <select ng-options="o.activityName as o.activityName for o in activityData" ng-model="activityName">
            <option value="">全部</option>
          </select>
        </div>
        <div class="item">
          <span class="label">时间范围：</span>
          <input id="date1" class="Wdate data-inp" ng-focus="dateFocus()"
            onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true})" placeholder="起始日期" readonly="" ng-model="startTime"/>
          <span class="line">-</span>
          <input id="date2" class="Wdate data-inp" ng-focus="dateFocus()"
            onfocus="WdatePicker({dateFmt:'yyyy-MM-dd',readOnly:true})" placeholder="结束日期" readonly="" ng-model="endTime" />
        </div>
        <div class="item">
          <button style="margin-right: 10px;" ng-click="hadelSearch()">
            查询
          </button>
        </div>
      </div>
      <div class="tips"> 
        <h5>数据解读</h5>
        <p>该数据为您显示：营销活动数据效果，为活动复盘提供依据：</p>
        <p>1、活动具体转化漏斗数据分析，实时了解实际活动效果，评估活动盈亏情况；</p>
        <p>2、提供活动明细，具体了解活动商品参与情况，为其他活动及下次活动提供数据依据。</p>
      </div>
    </div>
    <div class="box">
      <h4>活动统计</h4>
      <div class="flexbox">
        <div class="sbox sbox1">
          <h5>刊登量</h5>
          <img src="static/image/analysis/publish.png" alt="">
          <p class="num">{{count.publish}}</p>
          <p class="mot">刊登率：<b>{{count.publishLV||0}}%</b><span>i</span></p>
          <p class="sm">刊登率 = 刊登数 / 点击数</p>
        </div>
        <div class="sbox sbox2">
          <h5>关联量</h5>
          <img src="static/image/analysis/relevance.png" alt="">
          <p class="num">{{count.relevance}}</p>
          <p class="mot">关联率：<b>{{count.relevanceLV||0}}%</b><span>i</span></p>
          <p class="sm">关联率 = 关联数 / 点击数</p>
        </div>
        <div class="sbox sbox3">
          <h5>添加SKU</h5>
          <img src="static/image/analysis/addSkuList.png" alt="">
          <p class="num">{{count.addSkuList}}</p>
          <p class="mot">加入SKU List率：<b>{{count.addSkuListLV||0}}%</b><span>i</span></p>
          <p class="sm">加入SKU List率 = 加入SKU List / 点击数</p>
        </div>
        <div class="sbox sbox4">
          <h5>点击量</h5>
          <img src="static/image/analysis/click.png" alt="">
          <p class="num">{{count.click}}</p>
          <p class="mot"></p>
        </div>
        <div class="sbox sbox5">
          <h5>收藏量</h5>
          <img src="static/image/analysis/mark.png" alt="">
          <p class="num">{{count.mark}}</p>
        </div>
        <div class="sbox sbox6">
          <h5>添加购物车</h5>
          <img src="static/image/analysis/addCate.png" alt="">
          <p class="num">{{count.addCate}}</p>
        </div>
        <div class="sbox sbox7">
          <h5>购买</h5>
          <img src="static/image/analysis/orders.png" alt="">
          <p class="num">{{count.orders}}</p>
        </div>
        <div class="sbox sbox8">
          <h5>纠纷</h5>
          <img src="static/image/analysis/dispute.png" alt="">
          <p class="num">{{count.dispute}}</p>
        </div>
      </div>
    </div>
    <div class="box" ng-show="showTrend">
      <h4>活动趋势<a href="" ng-click="selectOptFlag=true">指标选择</a></h4>
      <div id="container"></div>
    </div>
    <div class="box">
      <h4>活动明细</h4>
      <div class="filter-box"> 
        <div class="item">
          <span class="label">商品名称：</span>
          <input type="text" ng-model="productName" />
        </div>
        <div class="item">
          <span class="label">商品SKU：</span>
          <input type="text" ng-model="productSku" />
        </div>
        <div class="item">
          <button style="margin-right: 10px;" ng-click="hadelSearch()">
            查询
          </button>
          <button ng-click="hadelExprot()">导出数据</button>
        </div>
      </div>
      <div class="tabbox">
        <table>
          <thead>
            <tr>
              <th>商品ID</th>
              <th>商品名称</th>
              <th>商品SKU</th>
              <th>商品图片</th>
              <th ng-repeat="(idx,item) in tableHeader">
                {{item.name}}
                <div class="sort">
                  <i class="asc" ng-class="{active:sortActive === item.ascKey}" ng-click="handleSort(item.ascKey)"></i>
                  <i class="desc" ng-class="{active:sortActive === item.descKey}" ng-click="handleSort(item.descKey)"></i>
                </div>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in productData" ng-show="productData.length>0">
              <td>
                <span style="max-width: 200px;display: inline-block;line-height: 20px;">{{item['商品ID']}}</span>
              </td>
              <td ng-attr-title="{{item['商品名称']}}">
                <span style="max-width: 200px;display: inline-block;line-height: 20px;">{{item['商品名称']}}</span>
              </td>
              <td>{{item['商品SKU']}}</td>
              <td style="position: relative;">
                <img ng-mouseenter="item.over = true;" ng-mouseleave="item.over = false;" width="30" height="30px"
                  ng-src="{{item['商品图片'] | IMG_SIZE : 30}}" alt="" />
                <img style="position: absolute;bottom: 0;" ng-if="item.over" src="" alt="" width="200" height="200"
                  ng-src="{{item['商品图片'] | IMG_SIZE : 200}}" />
              </td>
              <td>{{item['点击量']}}</td>
              <td>{{item['收藏量']}}</td>
              <td>{{item['刊登量']}}</td>
              <td>{{item['关联']}}</td>
              <td>{{item['添加SKU']}}</td>
              <td>{{item['添加购物车']}}</td>
              <td>{{item['购买']}}</td>
              <td>{{item['纠纷']}}</td>
            </tr>
            <tr ng-show="productData.length == 0">
              <td colspan="12" style="font-size: 14px;">暂无数据。</td>
            </tr>
          </tbody>
        </table>
        <page ng-show="productData.length > 0"></page>
      </div>     
    </div>
    <div class="mask" ng-show="selectOptFlag">
      <div class="target">
        <h3>指标选择</h3>
        <div class="options">
          <div class="check-box">
            <input type="checkbox" name="click" id="click" ng-model="optData.click">
            <label for="click">点击量</label>
          </div>
          <div class="check-box">
            <input type="checkbox" name="mark" id="mark" ng-model="optData.mark">
            <label for="mark">收藏量</label>
          </div>
          <div class="check-box">
            <input type="checkbox" name="publish" id="publish" ng-model="optData.publish">
            <label for="publish">刊登量</label>
          </div>
          <div class="check-box">
            <input type="checkbox" name="relevance" id="relevance" ng-model="optData.relevance">
            <label for="relevance">关联量</label>
          </div>
          <div class="check-box">
            <input type="checkbox" name="addSkuList" id="addSkuList" ng-model="optData.addSkuList">
            <label for="addSkuList">添加SKU</label>
          </div>
          <div class="check-box">
            <input type="checkbox" name="addCate" id="addCate" ng-model="optData.addCate">
            <label for="addCate">添加购物车</label>
          </div>
          <div class="check-box">
            <input type="checkbox" name="orders" id="orders" ng-model="optData.orders">
            <label for="orders">购买</label>
          </div>
          <div class="check-box">
            <input type="checkbox" name="dispute" id="dispute" ng-model="optData.dispute">
            <label for="dispute">纠纷</label>
          </div>
        </div>  
        <div class="btns">
          <button class="cancel" ng-click="cancelOpts()">取消</button>
          <button class="confirm" ng-click="confirmOpts()">确定</button>
        </div>       
      </div>
    </div>
  </body>

</html>